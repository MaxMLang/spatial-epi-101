<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Module 1: Mastering R for Spatial Data – An Introduction to GeoEpiR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ef56b68f8fa1e9d2ba328e99e439f80.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-9344fb9851b4da3cab95007ef9d770dc.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-3bd86390c15b05aa94f14a3ca1ab2c6a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-9344fb9851b4da3cab95007ef9d770dc.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="../site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="../site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="../site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="../site_libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="../site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="../site_libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">spatial-epi-101</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-course-modules" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Course Modules</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-course-modules">    
        <li>
    <a class="dropdown-item" href="../modules/module1-essentials.html">
 <span class="dropdown-text">Module 1: Mastering R for Spatial Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../modules/module2-advanced.html">
 <span class="dropdown-text">Module 2: Advanced Spatial Data Handling and Operations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../modules/module3-remote-sensing.html">
 <span class="dropdown-text">Module 3: Remote Sensing Data for Environmental Epidemiology</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../modules/module4-validation.html">
 <span class="dropdown-text">Module 4: Validating Remote Sensed Data with Ground-Truth Observations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../modules/module5-modeling.html">
 <span class="dropdown-text">Module 5: Analyzing Spatial Clustering</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../modules/module6-resources.html">
 <span class="dropdown-text">Module 6: References and Further Reading</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MaxMLang/spatial-epi-101"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#setup-installing-and-loading-core-packages" id="toc-setup-installing-and-loading-core-packages" class="nav-link active" data-scroll-target="#setup-installing-and-loading-core-packages">1.1 Setup: Installing and Loading Core Packages</a></li>
  <li><a href="#vector-data-with-sf" id="toc-vector-data-with-sf" class="nav-link" data-scroll-target="#vector-data-with-sf">1.2 Vector Data with <code>sf</code></a>
  <ul class="collapse">
  <li><a href="#what-is-vector-data" id="toc-what-is-vector-data" class="nav-link" data-scroll-target="#what-is-vector-data">What is Vector Data?</a></li>
  <li><a href="#the-sf-object" id="toc-the-sf-object" class="nav-link" data-scroll-target="#the-sf-object">The <code>sf</code> Object</a></li>
  <li><a href="#worked-example-exploring-world-countries" id="toc-worked-example-exploring-world-countries" class="nav-link" data-scroll-target="#worked-example-exploring-world-countries">Worked Example: Exploring World Countries</a></li>
  <li><a href="#exercise-1-vector-data-manipulation" id="toc-exercise-1-vector-data-manipulation" class="nav-link" data-scroll-target="#exercise-1-vector-data-manipulation"><strong>Exercise 1: Vector Data Manipulation</strong></a></li>
  </ul></li>
  <li><a href="#raster-data-with-terra" id="toc-raster-data-with-terra" class="nav-link" data-scroll-target="#raster-data-with-terra">1.3 Raster Data with <code>terra</code></a>
  <ul class="collapse">
  <li><a href="#what-is-raster-data" id="toc-what-is-raster-data" class="nav-link" data-scroll-target="#what-is-raster-data">What is Raster Data?</a></li>
  <li><a href="#the-terra-package" id="toc-the-terra-package" class="nav-link" data-scroll-target="#the-terra-package">The <code>terra</code> Package</a></li>
  <li><a href="#worked-example-exploring-elevation-in-uganda" id="toc-worked-example-exploring-elevation-in-uganda" class="nav-link" data-scroll-target="#worked-example-exploring-elevation-in-uganda">Worked Example: Exploring Elevation in Uganda</a></li>
  <li><a href="#exercise-2-raster-data-manipulation" id="toc-exercise-2-raster-data-manipulation" class="nav-link" data-scroll-target="#exercise-2-raster-data-manipulation"><strong>Exercise 2: Raster Data Manipulation</strong></a></li>
  </ul></li>
  <li><a href="#creating-maps-with-tmap" id="toc-creating-maps-with-tmap" class="nav-link" data-scroll-target="#creating-maps-with-tmap">1.4 Creating Maps with <code>tmap</code></a>
  <ul class="collapse">
  <li><a href="#worked-example-static-maps" id="toc-worked-example-static-maps" class="nav-link" data-scroll-target="#worked-example-static-maps">Worked Example: Static Maps</a></li>
  <li><a href="#the-power-of-interactive-mode" id="toc-the-power-of-interactive-mode" class="nav-link" data-scroll-target="#the-power-of-interactive-mode">The Power of Interactive Mode</a></li>
  <li><a href="#exercise-3-thematic-mapping-with-tmap" id="toc-exercise-3-thematic-mapping-with-tmap" class="nav-link" data-scroll-target="#exercise-3-thematic-mapping-with-tmap"><strong>Exercise 3: Thematic Mapping with <code>tmap</code></strong></a></li>
  </ul></li>
  <li><a href="#creating-maps-with-ggplot2" id="toc-creating-maps-with-ggplot2" class="nav-link" data-scroll-target="#creating-maps-with-ggplot2">1.5 Creating Maps with <code>ggplot2</code></a>
  <ul class="collapse">
  <li><a href="#worked-example-mapping-us-population-with-ggplot2" id="toc-worked-example-mapping-us-population-with-ggplot2" class="nav-link" data-scroll-target="#worked-example-mapping-us-population-with-ggplot2">Worked Example: Mapping US Population with <code>ggplot2</code></a></li>
  <li><a href="#exercise-4-thematic-mapping-with-ggplot2" id="toc-exercise-4-thematic-mapping-with-ggplot2" class="nav-link" data-scroll-target="#exercise-4-thematic-mapping-with-ggplot2"><strong>Exercise 4: Thematic Mapping with <code>ggplot2</code></strong></a></li>
  </ul></li>
  <li><a href="#module-1-finish-line" id="toc-module-1-finish-line" class="nav-link" data-scroll-target="#module-1-finish-line">Module 1 Finish Line</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Module 1: Mastering R for Spatial Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The goal of this module is to build a rock-solid foundation in handling, manipulating, and visualizing spatial data within the R environment. We will focus on the “tidyverse” approach to spatial analysis, which treats spatial data as a special kind of data frame, making many operations intuitive and powerful.</p>
<p>By the end of this notebook, you will be able to:</p>
<ol type="1">
<li>Set up your R environment by loading the essential packages for geospatial analysis.</li>
<li>Understand, load, inspect, and manipulate <strong>vector data</strong> using the <code>sf</code> package.</li>
<li>Understand, load, and perform fundamental operations on <strong>raster data</strong> using the <code>terra</code> package.</li>
<li>Create beautiful and informative static maps using the <code>tmap</code> and <code>ggplot2</code> packages.</li>
<li>Generate interactive maps for data exploration using <code>tmap</code>’s “view” mode.</li>
</ol>
<hr>
<section id="setup-installing-and-loading-core-packages" class="level2">
<h2 class="anchored" data-anchor-id="setup-installing-and-loading-core-packages">1.1 Setup: Installing and Loading Core Packages</h2>
<p>For our work, we will rely on a core set of packages that form the backbone of modern spatial analysis in R.</p>
<p>If you have not installed these packages before, you must do so first. You can run the <code>install.packages()</code> function in your R console for each one. You only need to do this once.</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run these lines in your R console if you haven't installed the packages yet</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("sf")</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("terra")</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tmap")</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2") # The premier package for data visualization</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("dplyr")</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("spData")</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("geodata")</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("spDataLarge", repos = "https://nowosad.github.io/drat/", type = "source")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Once installed, we need to load the packages into our current R session using the <code>library()</code> function. We do this at the start of every script.</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Core Packages ---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)         <span class="co"># Handles vector data (Simple Features). The modern standard.</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(terra)      <span class="co"># Handles raster data. The modern, high-performance successor to the 'raster' package.</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap)       <span class="co"># Used for creating beautiful thematic maps (like ggplot2 for maps).</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)    <span class="co"># A powerful and versatile grammar of graphics for visualization.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)      <span class="co"># A grammar of data manipulation, works seamlessly with 'sf'.</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Data Packages ---</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(spData)     <span class="co"># Contains example spatial datasets for practice.</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geodata)    <span class="co"># For downloading common global spatial datasets like country boundaries or climate data.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="vector-data-with-sf" class="level2">
<h2 class="anchored" data-anchor-id="vector-data-with-sf">1.2 Vector Data with <code>sf</code></h2>
<section id="what-is-vector-data" class="level3">
<h3 class="anchored" data-anchor-id="what-is-vector-data">What is Vector Data?</h3>
<p>Vector data represents geographical features using discrete geometric objects: <strong>Points</strong>, <strong>Lines</strong>, and <strong>Polygons</strong>.</p>
</section>
<section id="the-sf-object" class="level3">
<h3 class="anchored" data-anchor-id="the-sf-object">The <code>sf</code> Object</h3>
<p>The <code>sf</code> package provides a framework for working with vector data in R. An <code>sf</code> object is fundamentally an R <strong>data frame</strong> with a special list-column that stores the geometry. This structure is powerful because it allows you to use <code>dplyr</code> verbs directly on your spatial data.</p>
</section>
<section id="worked-example-exploring-world-countries" class="level3">
<h3 class="anchored" data-anchor-id="worked-example-exploring-world-countries">Worked Example: Exploring World Countries</h3>
<p>Let’s load the <code>world</code> dataset from the <code>spData</code> package and see what an <code>sf</code> object looks like.</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the 'world' dataset</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(world)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Inspect the object's class</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(world)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sf"         "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Print the object</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(world)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 177 features and 10 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -180 ymin: -89.9 xmax: 180 ymax: 83.64513
Geodetic CRS:  WGS 84
# A tibble: 177 × 11
   iso_a2 name_long continent region_un subregion type  area_km2     pop lifeExp
 * &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 FJ     Fiji      Oceania   Oceania   Melanesia Sove…   1.93e4  8.86e5    70.0
 2 TZ     Tanzania  Africa    Africa    Eastern … Sove…   9.33e5  5.22e7    64.2
 3 EH     Western … Africa    Africa    Northern… Inde…   9.63e4 NA         NA  
 4 CA     Canada    North Am… Americas  Northern… Sove…   1.00e7  3.55e7    82.0
 5 US     United S… North Am… Americas  Northern… Coun…   9.51e6  3.19e8    78.8
 6 KZ     Kazakhst… Asia      Asia      Central … Sove…   2.73e6  1.73e7    71.6
 7 UZ     Uzbekist… Asia      Asia      Central … Sove…   4.61e5  3.08e7    71.0
 8 PG     Papua Ne… Oceania   Oceania   Melanesia Sove…   4.65e5  7.76e6    65.2
 9 ID     Indonesia Asia      Asia      South-Ea… Sove…   1.82e6  2.55e8    68.9
10 AR     Argentina South Am… Americas  South Am… Sove…   2.78e6  4.30e7    76.3
# ℹ 167 more rows
# ℹ 2 more variables: gdpPercap &lt;dbl&gt;, geom &lt;MULTIPOLYGON [°]&gt;</code></pre>
</div>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Manipulate data with dplyr</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>world_africa <span class="ot">&lt;-</span> world <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(continent <span class="sc">==</span> <span class="st">"Africa"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name_long, pop, gdpPercap, lifeExp, geom)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's look at our new, smaller sf object</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(world_africa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 51 features and 4 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -17.62504 ymin: -34.81917 xmax: 51.13387 ymax: 37.34999
Geodetic CRS:  WGS 84
# A tibble: 51 × 5
   name_long                     pop gdpPercap lifeExp                      geom
   &lt;chr&gt;                       &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;        &lt;MULTIPOLYGON [°]&gt;
 1 Tanzania                   5.22e7     2402.    64.2 (((33.90371 -0.95, 31.86…
 2 Western Sahara            NA            NA     NA   (((-8.66559 27.65643, -8…
 3 Democratic Republic of t…  7.37e7      785.    58.8 (((29.34 -4.499983, 29.2…
 4 Somalia                    1.35e7       NA     55.5 (((41.58513 -1.68325, 41…
 5 Kenya                      4.60e7     2753.    66.2 (((39.20222 -4.67677, 39…
 6 Sudan                      3.77e7     4188.    64.0 (((23.88711 8.619775, 24…
 7 Chad                       1.36e7     2077.    52.2 (((23.83766 19.58047, 19…
 8 South Africa               5.45e7    12390.    61.0 (((16.34498 -28.57671, 1…
 9 Lesotho                    2.15e6     2677.    53.3 (((28.97826 -28.9556, 28…
10 Zimbabwe                   1.54e7     1925.    59.4 (((31.19141 -22.25151, 3…
# ℹ 41 more rows</code></pre>
</div>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Check the Coordinate Reference System (CRS)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(world_africa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: EPSG:4326 
  wkt:
GEOGCRS["WGS 84",
    DATUM["World Geodetic System 1984",
        ELLIPSOID["WGS 84",6378137,298.257223563,
            LENGTHUNIT["metre",1]]],
    PRIMEM["Greenwich",0,
        ANGLEUNIT["degree",0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS["geodetic latitude (Lat)",north,
            ORDER[1],
            ANGLEUNIT["degree",0.0174532925199433]],
        AXIS["geodetic longitude (Lon)",east,
            ORDER[2],
            ANGLEUNIT["degree",0.0174532925199433]],
    USAGE[
        SCOPE["Horizontal component of 3D system."],
        AREA["World."],
        BBOX[-90,-180,90,180]],
    ID["EPSG",4326]]</code></pre>
</div>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Basic Plotting</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(world_africa), <span class="at">main =</span> <span class="st">"Map of Africa (Geometries Only)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/sf_worked_example-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="exercise-1-vector-data-manipulation" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1-vector-data-manipulation"><strong>Exercise 1: Vector Data Manipulation</strong></h3>
<p>Now it’s your turn. Use the <code>us_states</code> dataset, which is also included in the <code>spData</code> package.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Task 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Load the <code>us_states</code> data and inspect its Coordinate Reference System (CRS).</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(us_states)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(us_states)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: EPSG:4269 
  wkt:
GEOGCS["NAD83",
    DATUM["North_American_Datum_1983",
        SPHEROID["GRS 1980",6378137,298.257222101,
            AUTHORITY["EPSG","7019"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6269"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9122"]],
    AUTHORITY["EPSG","4269"]]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Task 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Your turn!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Use <code>dplyr::filter()</code> to create a new <code>sf</code> object containing only the states in the “West” region.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>western_states <span class="ot">&lt;-</span> us_states <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(REGION <span class="sc">==</span> <span class="st">"West"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional: Print the names to check your work</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(western_states<span class="sc">$</span>NAME)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Arizona"    "Colorado"   "Idaho"      "Montana"    "Nevada"    
 [6] "California" "New Mexico" "Oregon"     "Utah"       "Washington"
[11] "Wyoming"   </code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Task 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>Calculate the area of each western state using <code>st_area()</code>. The result will be in square meters. Create a new column in your <code>western_states</code> object called <code>area_sqkm</code> that contains the area in square kilometers (Hint: 1 <span class="math inline">\(km^2\)</span> = 1,000,000 <span class="math inline">\(m^2\)</span> ).</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, create the 'western_states' object from the previous task</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>western_states <span class="ot">&lt;-</span> us_states <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(REGION <span class="sc">==</span> <span class="st">"West"</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, add the new area column</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>western_states_with_area <span class="ot">&lt;-</span> western_states <span class="sc">%&gt;%</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">area_sqkm =</span> <span class="fu">st_area</span>(.) <span class="sc">/</span> <span class="dv">1000000</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># View the NAME and the new area column</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(western_states_with_area[, <span class="fu">c</span>(<span class="st">"NAME"</span>, <span class="st">"area_sqkm"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 11 features and 2 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -124.7042 ymin: 31.33224 xmax: -102.0422 ymax: 49.00236
Geodetic CRS:  NAD83
First 10 features:
         NAME      area_sqkm                       geometry
1     Arizona 295348.8 [m^2] MULTIPOLYGON (((-114.7196 3...
2    Colorado 269350.7 [m^2] MULTIPOLYGON (((-109.0501 4...
3       Idaho 216065.1 [m^2] MULTIPOLYGON (((-116.916 45...
4     Montana 379804.1 [m^2] MULTIPOLYGON (((-116.0492 4...
5      Nevada 286105.0 [m^2] MULTIPOLYGON (((-119.9992 4...
6  California 409575.9 [m^2] MULTIPOLYGON (((-118.6034 3...
7  New Mexico 314949.2 [m^2] MULTIPOLYGON (((-109.0452 3...
8      Oregon 250851.5 [m^2] MULTIPOLYGON (((-123.5477 4...
9        Utah 219662.3 [m^2] MULTIPOLYGON (((-114.0417 4...
10 Washington 174949.3 [m^2] MULTIPOLYGON (((-122.7699 4...</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Task 4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p>Create a simple plot of your <code>western_states</code> object using <code>plot()</code>. Customize it by changing the color of the polygons (<code>col</code>) and their borders (<code>border</code>).</p>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, create the 'western_states' object from task 2</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>western_states <span class="ot">&lt;-</span> us_states <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(REGION <span class="sc">==</span> <span class="st">"West"</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(western_states), </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Western US States"</span>, </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"khaki"</span>, </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">border =</span> <span class="st">"darkgreen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ex1_task4_solution-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="raster-data-with-terra" class="level2">
<h2 class="anchored" data-anchor-id="raster-data-with-terra">1.3 Raster Data with <code>terra</code></h2>
<section id="what-is-raster-data" class="level3">
<h3 class="anchored" data-anchor-id="what-is-raster-data">What is Raster Data?</h3>
<p>While vector data uses discrete shapes, raster data represents the world as a continuous grid of cells, or <strong>pixels</strong>. Each pixel in the grid has a value representing some measured phenomenon. Think of it like a digital photograph.</p>
<p><em>Epidemiological examples: Satellite imagery, elevation models, or surfaces showing environmental variables like land surface temperature, precipitation, or vegetation density (NDVI).</em></p>
</section>
<section id="the-terra-package" class="level3">
<h3 class="anchored" data-anchor-id="the-terra-package">The <code>terra</code> Package</h3>
<p>The <code>terra</code> package is the modern, high-performance engine for raster data in R. It is designed to be easier to use and much faster than its predecessor, the <code>raster</code> package, especially with the very large files common in remote sensing.</p>
</section>
<section id="worked-example-exploring-elevation-in-uganda" class="level3">
<h3 class="anchored" data-anchor-id="worked-example-exploring-elevation-in-uganda">Worked Example: Exploring Elevation in Uganda</h3>
<p>Let’s download elevation data for Uganda and perform two fundamental raster operations: <strong>cropping</strong> and <strong>masking</strong>.</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We will use the sf object for Uganda we can get from the 'world' dataset</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>uganda_sf <span class="ot">&lt;-</span> world <span class="sc">%&gt;%</span> <span class="fu">filter</span>(iso_a2 <span class="sc">==</span> <span class="st">"UG"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Download Data</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The geodata package can download various global datasets.</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># We will get elevation data at 30-arcsecond resolution.</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>temp_path <span class="ot">&lt;-</span> <span class="fu">tempdir</span>()</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>elevation_uganda <span class="ot">&lt;-</span> geodata<span class="sc">::</span><span class="fu">elevation_30s</span>(<span class="at">country =</span> <span class="st">"UGA"</span>, <span class="at">path =</span> temp_path)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Inspect the SpatRaster Object</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(elevation_uganda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 720, 696, 1  (nrow, ncol, nlyr)
resolution  : 0.008333333, 0.008333333  (x, y)
extent      : 29.4, 35.2, -1.6, 4.4  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 (EPSG:4326) 
source      : UGA_elv_msk.tif 
name        : UGA_elv_msk 
min value   :         580 
max value   :        4656 </code></pre>
</div>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Basic Plotting</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elevation_uganda, <span class="at">main =</span> <span class="st">"Elevation of Uganda (Rectangular Extent)"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(uganda_sf), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">border =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/terra_worked_example-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Crop and Mask</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>elevation_cropped <span class="ot">&lt;-</span> <span class="fu">crop</span>(elevation_uganda, uganda_sf)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>elevation_masked <span class="ot">&lt;-</span> <span class="fu">mask</span>(elevation_cropped, uganda_sf)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Plot the Final Result</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elevation_masked, <span class="at">main =</span> <span class="st">"Masked Elevation of Uganda (m)"</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(uganda_sf), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">border =</span> <span class="st">"black"</span>, <span class="at">lwd =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/terra_worked_example-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="exercise-2-raster-data-manipulation" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2-raster-data-manipulation"><strong>Exercise 2: Raster Data Manipulation</strong></h3>
<p>Let’s practice these skills by creating a map of the mean annual temperature for Brazil.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Task 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<p>Download the global average maximum temperature data from WorldClim at 10-minute resolution. This will be a <code>SpatRaster</code> with 12 layers (one for each month). Calculate the mean across all 12 layers to get a single-layer raster of the annual average. <em>Remember: The data is in °C * 10, so you’ll need to divide the final result by 10.</em></p>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>temp_path <span class="ot">&lt;-</span> <span class="fu">tempdir</span>() <span class="co"># Define temp_path if not already defined</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>global_tmax <span class="ot">&lt;-</span> geodata<span class="sc">::</span><span class="fu">worldclim_global</span>(<span class="at">var =</span> <span class="st">"tmax"</span>, <span class="at">res =</span> <span class="dv">10</span>, <span class="at">path =</span> temp_path)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>mean_annual_tmax <span class="ot">&lt;-</span> <span class="fu">mean</span>(global_tmax)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>mean_annual_tmax_c <span class="ot">&lt;-</span> mean_annual_tmax <span class="sc">/</span> <span class="dv">10</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional: print the final raster object to check it</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mean_annual_tmax_c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 1080, 2160, 1  (nrow, ncol, nlyr)
resolution  : 0.1666667, 0.1666667  (x, y)
extent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 (EPSG:4326) 
source(s)   : memory
name        :      mean 
min value   : -4.970683 
max value   :  3.851019 </code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Task 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<p>Create an <code>sf</code> object for Brazil from the <code>world</code> dataset.</p>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>brazil_sf <span class="ot">&lt;-</span> world <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name_long <span class="sc">==</span> <span class="st">"Brazil"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(brazil_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 1 feature and 10 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -73.98724 ymin: -33.76838 xmax: -34.72999 ymax: 5.244486
Geodetic CRS:  WGS 84
# A tibble: 1 × 11
  iso_a2 name_long continent   region_un subregion type  area_km2    pop lifeExp
* &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
1 BR     Brazil    South Amer… Americas  South Am… Sove… 8508557. 2.04e8    75.0
# ℹ 2 more variables: gdpPercap &lt;dbl&gt;, geom &lt;MULTIPOLYGON [°]&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Task 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<p>Crop and then mask the global temperature raster (<code>mean_annual_tmax_c</code>) to the exact shape of Brazil.</p>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-create objects from previous tasks to make this chunk self-contained</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>temp_path <span class="ot">&lt;-</span> <span class="fu">tempdir</span>()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>global_tmax <span class="ot">&lt;-</span> geodata<span class="sc">::</span><span class="fu">worldclim_global</span>(<span class="at">var =</span> <span class="st">"tmax"</span>, <span class="at">res =</span> <span class="dv">10</span>, <span class="at">path =</span> temp_path)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>mean_annual_tmax_c <span class="ot">&lt;-</span> <span class="fu">mean</span>(global_tmax) <span class="sc">/</span> <span class="dv">10</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>brazil_sf <span class="ot">&lt;-</span> world <span class="sc">%&gt;%</span> <span class="fu">filter</span>(name_long <span class="sc">==</span> <span class="st">"Brazil"</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Now perform the crop and mask</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>tmax_brazil_cropped <span class="ot">&lt;-</span> <span class="fu">crop</span>(mean_annual_tmax_c, brazil_sf)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>tmax_brazil_masked <span class="ot">&lt;-</span> <span class="fu">mask</span>(tmax_brazil_cropped, brazil_sf)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tmax_brazil_masked)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 234, 236, 1  (nrow, ncol, nlyr)
resolution  : 0.1666667, 0.1666667  (x, y)
extent      : -74, -34.66667, -33.83333, 5.166667  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 (EPSG:4326) 
source(s)   : memory
name        :     mean 
min value   : 1.781475 
max value   : 3.414175 </code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">Task 4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<p>Plot your final masked temperature raster for Brazil. Add the country’s border to the plot for context.</p>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-create the necessary objects from previous tasks</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>temp_path <span class="ot">&lt;-</span> <span class="fu">tempdir</span>()</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>global_tmax <span class="ot">&lt;-</span> geodata<span class="sc">::</span><span class="fu">worldclim_global</span>(<span class="at">var =</span> <span class="st">"tmax"</span>, <span class="at">res =</span> <span class="dv">10</span>, <span class="at">path =</span> temp_path)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>mean_annual_tmax_c <span class="ot">&lt;-</span> <span class="fu">mean</span>(global_tmax) <span class="sc">/</span> <span class="dv">10</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>brazil_sf <span class="ot">&lt;-</span> world <span class="sc">%&gt;%</span> <span class="fu">filter</span>(name_long <span class="sc">==</span> <span class="st">"Brazil"</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>tmax_brazil_masked <span class="ot">&lt;-</span> <span class="fu">mask</span>(<span class="fu">crop</span>(mean_annual_tmax_c, brazil_sf), brazil_sf)</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Now create the plot</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tmax_brazil_masked, <span class="at">main =</span> <span class="st">"Mean Annual Max Temperature for Brazil (°C)"</span>)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(brazil_sf), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">border =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ex2_task4_solution-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="creating-maps-with-tmap" class="level2">
<h2 class="anchored" data-anchor-id="creating-maps-with-tmap">1.4 Creating Maps with <code>tmap</code></h2>
<p>While <code>plot()</code> is great for quick checks, the <code>tmap</code> package provides a powerful and flexible system for creating publication-quality thematic maps. It uses a “grammar of graphics” approach, similar to <code>ggplot2</code>, where you build a map layer by layer.</p>
<p>The main components are: * <code>tm_shape()</code>: Specifies the <code>sf</code> or <code>SpatRaster</code> object to be mapped. * <code>tm_polygons()</code>, <code>tm_lines()</code>, <code>tm_dots()</code>, <code>tm_raster()</code>: Specify <em>how</em> to draw the shape. * <code>tm_layout()</code>, <code>tm_compass()</code>, <code>tm_scale_bar()</code>: Functions to customize the map’s appearance and add map furniture.</p>
<p>A key feature of <code>tmap</code> is its dual-mode functionality. You can create: 1. <strong>Static Maps (<code>tmap_mode("plot")</code>)</strong>: High-quality images suitable for publications, reports, and presentations. 2. <strong>Interactive Maps (<code>tmap_mode("view")</code>)</strong>: Dynamic maps that you can pan, zoom, and query in a web browser or the RStudio Viewer. This is incredibly useful for data exploration.</p>
<section id="worked-example-static-maps" class="level3">
<h3 class="anchored" data-anchor-id="worked-example-static-maps">Worked Example: Static Maps</h3>
<p>Let’s create a high-quality map showing life expectancy in Africa, highlighting Uganda, and another map showing Uganda’s elevation.</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set tmap mode to "plot" for static maps.</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Map 1: A Choropleth Map of Life Expectancy</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co"># A choropleth map is one where polygons are colored according to a variable's value.</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>map1 <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(world_africa) <span class="sc">+</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"lifeExp"</span>,                      <span class="co"># The column to map</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"plasma"</span>,                   <span class="co"># Color palette</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">"quantile"</span>,                   <span class="co"># How to break data into color bins</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Life Expectancy (Years)"</span>     <span class="co"># Legend title</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(uganda_sf) <span class="sc">+</span>                   <span class="co"># Add a new shape layer for Uganda</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"black"</span>, <span class="at">lwd =</span> <span class="fl">2.5</span>) <span class="sc">+</span>  <span class="co"># Draw its borders</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">main.title =</span> <span class="st">"Life Expectancy in African Nations"</span>,</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">main.title.position =</span> <span class="st">"center"</span>,</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"bottom"</span>),</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">frame =</span> <span class="cn">FALSE</span>, </span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">inner.margins =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.05</span>, <span class="fl">0.05</span>)</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>(<span class="at">type =</span> <span class="st">"8star"</span>, <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"right"</span>, <span class="st">"top"</span>), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_scale_bar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">"right"</span>, <span class="st">"bottom"</span>), <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="dv">2000</span>))</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Map 2: Combining Raster and Vector Data</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's map the masked Uganda elevation raster we created earlier.</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>map2 <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(elevation_masked) <span class="sc">+</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Elevation (m)"</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(uganda_sf) <span class="sc">+</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">lwd =</span> <span class="fl">1.5</span>, <span class="at">col =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Elevation of Uganda"</span>)  <span class="sc">+</span></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>(<span class="at">type =</span> <span class="st">"arrow"</span>, <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)) <span class="sc">+</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_scale_bar</span>()</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the maps</span></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>map1</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>map2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/tmap_worked_example-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/tmap_worked_example-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-power-of-interactive-mode" class="level3">
<h3 class="anchored" data-anchor-id="the-power-of-interactive-mode">The Power of Interactive Mode</h3>
<p>The real magic of <code>tmap</code> for data exploration comes from its interactive mode. By simply running <code>tmap_mode("view")</code> once, all subsequent <code>tmap</code> plots become interactive Leaflet maps. You can click on features to see their data, zoom in on areas of interest, and switch between different basemaps. This is invaluable for sanity-checking your data and discovering patterns.</p>
<p>Let’s take our first map and view it interactively.</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Switch to interactive view mode</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-run the same code for our first map</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># No other changes are needed!</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(world_africa) <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"lifeExp"</span>,</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># When hovering, show the country name and its life expectancy</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup.vars =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"name_long"</span>, <span class="st">"Life Expectancy"</span> <span class="ot">=</span> <span class="st">"lifeExp"</span>)</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(uganda_sf) <span class="sc">+</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"black"</span>, <span class="at">lwd =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Interactive Map of Life Expectancy in Africa"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<style>#legend01 { background: #FFFFFF; opacity: 1}</style>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-1758f764bbb133766161" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1758f764bbb133766161">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"attributionControl":true},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"createMapPane","args":["tmap402",402]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],["world_africa","uganda_sf"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"maxNativeZoom":17,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"maxNativeZoom":17,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"maxNativeZoom":17,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[-8.665589565454809,-8.817828334986674,-8.794883999049079,-9.41303748212448,-9.735343390328881,-10.18942420087758,-10.55126257978527,-11.39255489749701,-11.71821977380035,-12.03075883630163,-12.50096269372537,-13.89111039880905,-14.22116777185725,-14.63083268885107,-14.75095455571354,-17.00296179856109,-17.02042843267577,-17.06342322434257,-16.84519365077399,-12.92910193526353,-13.11875444177471,-12.87422156416958,-11.93722449385332,-11.96941891117116,-8.6872936670174,-8.684399786809051,-8.665124477564191,-8.665589565454809],"lat":[27.65642588959236,27.65642588959236,27.12069631602251,27.08847606048857,26.8609447291074,26.8609447291074,26.99080760345689,26.88342397715439,26.10409170176062,26.03086619720307,24.7701162785782,23.6910090194593,22.31016307218816,21.86093984627491,21.50060008390366,21.42073415779658,21.42231028898157,20.99975210213083,21.33332347257488,21.32707062426756,22.77122020109625,23.28483226164518,23.37459422453617,25.93335276946827,25.88105621998891,27.395744126896,27.58947907155823,27.65642588959236]}]],[[{"lng":[48.94820475850986,48.94820641459347,48.37878380716927,48.02159630716778,47.52565758646278,46.645401238803,45.55694054543915,44.61425906757086,44.11780358254282,43.66666832863483,43.47065962095166,43.14530480324214,42.77685184100095,42.55875999999995,42.92812000000009,43.29699000000011,43.67875000000004,46.94834000000009,47.78942,48.48673587422696,48.93812951029646,48.93823286316104,48.9384912453225,48.94200524271835,48.94820475850974,48.94820475850986],"lat":[11.41061728169797,11.41062164961852,11.37548167566012,11.19306386966974,11.12722809492999,10.81654938399117,10.69802948652978,10.44220530846894,10.44553843835161,10.86416921634816,11.27770986576388,11.46203969974886,10.92687856693442,10.57258000000013,10.02194000000014,9.540480000000173,9.18358000000012,7.99688000000009,8.003,8.837626247589995,9.451748968946617,9.973500067581512,10.98232737878347,11.39426605879814,11.41061728169796,11.41061728169797]}]],[[{"lng":[33.90371119710452,31.86617000000007,30.76986000000011,30.41910485201924,30.81613488131772,30.75830895358311,30.46967,30.46967364576122,30.52766000000003,30.74301000000003,30.75224000000009,30.50554,30.11632000000004,29.75351240409987,29.33999759290035,29.51998660657293,29.41999271008817,29.62003217949001,30.1999967791017,30.74001549655179,30.7400097314221,31.15775133695005,31.5563480974665,32.19186486179194,32.75937544122132,33.73972000000009,33.94083772409652,34.27999999999997,34.55998904799935,35.31239790216904,36.51408165868426,36.77515099462281,37.47128999999995,37.82763999999997,38.42755659358775,39.52099999999996,40.31659000000002,40.31658622911085,39.94960000000004,39.53574000000009,39.18652000000009,39.25203000000005,39.19468999999998,39.47000000000014,39.43999999999999,38.79977000000009,38.74053999999995,39.20222,37.7669,37.69868999999994,34.07261999999998,33.90371119710452],"lat":[-0.95,-1.027359999999931,-1.014549999999986,-1.134659112150416,-1.698914076345389,-2.287250257988369,-2.413829999999962,-2.41385475710134,-2.807619999999985,-3.034309999999948,-3.359309999999994,-3.568579999999941,-4.090120000000013,-4.452389418153303,-4.499983412294092,-5.419978936386314,-5.939998874539434,-6.520015150583426,-7.079980970898163,-8.340007419470915,-8.340005930353721,-8.594578747317364,-8.76204884199864,-8.930358981973258,-9.230599053589058,-9.417149999999992,-9.693673841980285,-10.16000000000003,-11.52002003341593,-11.43914641687915,-11.72093800216673,-11.59453744878081,-11.56876,-11.26878999999991,-11.28520232508166,-10.89688000000001,-10.31709999999987,-10.31709775281749,-10.09840000000002,-9.112369999999885,-8.485509999999918,-8.007809999999949,-7.703899999999976,-7.099999999999966,-6.839999999999862,-6.475660000000005,-5.908949999999948,-4.67677,-3.67712,-3.096989999999948,-1.059819999999945,-0.95]}]],[[{"lng":[29.33999759290035,29.27638390474905,29.02492638521679,29.11747887545155,29.25483483248334,29.29188683443662,29.57946618014088,29.58783776217217,29.81950320813664,29.87577884290244,30.08615359876271,30.46850752129029,30.85267011894806,31.17414920423581,30.77334679538004,30.83385989759381,30.83385242171542,29.95350019706947,29.71599531425602,29.1590784034465,28.6966776872988,28.42899376802691,27.97997724784281,27.37422610851749,27.04406538260471,26.40276085786254,25.65045535655747,25.27879845551431,25.12883344900328,24.80502892426242,24.41053104014626,23.29721398285014,22.84147952646811,22.70412356943629,22.40512373219554,21.65912275563003,20.92759118010628,20.29067915210894,19.46778364429315,18.93231245288476,18.54298221199778,18.45306521980993,18.39379235197114,18.09427575040743,17.89883548347959,17.77419192879157,17.82654015470325,17.66355268725468,17.63864464688999,17.52371626147286,16.86530683764212,16.40709191251005,15.97280317552915,16.0062895036543,15.75354007331475,15.17099165208844,14.58260379401318,14.20903486497522,14.1449560889333,13.60023481614468,13.25824018723705,12.99551720546518,12.63161176926579,12.46800418462974,12.43668826666087,12.18233686692025,12.32243167486351,12.7351713395787,13.02486941900696,13.3755973649719,16.32652835456705,16.57317996589614,16.86019087084521,17.08999596524717,17.47297000496224,18.13422163256905,18.46417565275269,19.01675174324967,19.16661339689611,19.41750247567316,20.03772301604022,20.09162153492065,20.6018229509383,20.5147481625265,21.7281107927397,21.74645592620331,21.94913089365204,21.8018013851879,21.87518191904235,22.2087532894864,22.15526818206431,22.40279829274237,22.83734541188474,23.45679080576744,23.91221520355572,24.25715538910399,24.31451622894796,24.78316979340295,25.41811811697321,25.75230960460473,26.55308759939962,27.16441979341246,27.38879886242378,28.15510867687999,28.52356163912102,28.93428592297684,29.69961388521949,29.61600141777123,29.34154788586909,28.64241743339236,28.37225304537043,28.49606977714177,28.67368167492893,28.44987104667283,28.7348665707625,29.00291222506047,30.34608605319082,30.7400097314221,30.74001549655179,30.1999967791017,29.62003217949001,29.41999271008817,29.51998660657293,29.33999759290035],"lat":[-4.499983412294092,-3.293907159034063,-2.839257907730158,-2.292211195488384,-2.215109958508911,-1.620055840667987,-1.341313164885626,-0.5874056941793812,-0.2053101538133717,0.5973798689763612,1.062312730306289,1.583805446779707,1.849396470543809,2.204465236821263,2.339883327642127,3.509165961110341,3.509171604222462,4.173699042167684,4.600804755060153,4.389267279473231,4.455077215996937,4.287154649264495,4.408413397637375,5.233944403500061,5.127852688004836,5.150874538590871,5.256087754737123,5.170408229997192,4.92724477784779,4.89724660890235,5.10878408448913,4.609693101414223,4.710126247573484,4.633050848810158,4.02916006104732,4.22434194581372,4.322785549329737,4.691677761245287,5.03152781821278,4.709506130385975,4.201785183118318,3.504385891123349,2.90044342692822,2.365721543788056,1.741831976728278,0.8556586775710853,0.2889232446261047,-0.05808399821381728,-0.4248316381892465,-0.7438302547269871,-1.225816338713287,-1.740927015798682,-2.712392266453612,-3.535132744972529,-3.855164890156097,-4.343507175314301,-4.97023894615014,-4.793092136253598,-4.510008640158716,-4.50013844159097,-4.882957452009165,-4.781103203961884,-4.991271254092937,-5.248361504745005,-5.684303887559246,-5.789930515163839,-6.100092461779659,-5.965682061388498,-5.984388929878158,-5.864241224799549,-5.877470391466268,-6.622644545115088,-7.222297865429986,-7.545688978712528,-8.0685511206417,-7.987677504104922,-7.847014255406444,-7.988245944860133,-7.738183688999756,-7.155428562044299,-7.116361179231645,-6.943090101756995,-6.939317722199681,-7.29960580813863,-7.290872491081302,-7.920084730667149,-8.305900974158277,-8.908706556842979,-9.523707777548566,-9.894796237836509,-11.08480112065377,-10.99307545333569,-11.01762175867433,-10.86786345789248,-10.92682626713751,-10.95199268966366,-11.26282642989927,-11.23869353601896,-11.33093596765996,-11.78496510177636,-11.92443979253213,-11.60874846766107,-12.13274749110067,-12.2724805640179,-12.69860442469668,-13.24895842860513,-13.25722665777183,-12.17889454513731,-12.36074391037241,-11.97156869878231,-11.79364674240139,-10.78988372156405,-9.605924981324932,-9.164918308146085,-8.526559340044578,-8.407031752153474,-8.238256524288218,-8.340005930353721,-8.340007419470915,-7.079980970898163,-6.520015150583426,-5.939998874539434,-5.419978936386314,-4.499983412294092]}]],[[{"lng":[41.58512999999999,41.81095000000001,42.04157000000001,43.13597,44.06815,45.56399,46.56476,47.74079000000001,48.59455000000001,49.45270000000001,50.07092,50.55239,50.83418,51.04531,51.04153,51.13387,51.1112,50.73202,50.25878,49.72862,49.26776,48.94820475850986,48.94820475850974,48.94200524271835,48.9384912453225,48.93823286316104,48.93812951029646,48.48673587422696,47.78942,44.9636,43.66086999999999,42.76967,42.12860999999999,41.85508309264397,40.98105,40.993,41.58512999999999],"lat":[-1.68325,-1.44647,-0.9191600000000002,0.2922,1.05283,2.04576,2.85529,4.219399999999999,5.339110000000001,6.804659999999999,8.08173,9.198740000000001,10.27972,10.6409,11.16651,11.74815,12.02464,12.0219,11.67957,11.5789,11.43033,11.41061728169797,11.41061728169796,11.39426605879814,10.98232737878347,9.973500067581512,9.451748968946617,8.837626247589995,8.003,5.00162,4.957550000000083,4.252589999999999,4.23413,3.918911920483726,2.784519999999999,-0.8582900000000001,-1.68325]}]],[[{"lng":[39.20222,39.60489,39.80006,40.12119000000001,40.26304000000001,40.63785000000001,40.88477000000001,41.58512999999999,40.993,40.98105,41.85508309264397,41.1718,40.76847999999999,39.85494000000001,39.55938425876585,38.89251,38.67114,38.43697000000001,38.120915,36.85509323800812,36.15907863285565,35.81744766235352,35.81744766235351,35.29800711823298,34.62019626785388,34.005,34.47913,34.59607,35.03599000000001,34.67210000000001,34.18,33.89356896966694,33.90371119710452,34.07261999999998,37.69868999999994,37.7669,39.20222],"lat":[-4.67677,-4.34653,-3.68116,-3.277680000000001,-2.573090000000001,-2.49979,-2.082549999999999,-1.68325,-0.8582900000000001,2.784519999999999,3.918911920483726,3.919089999999999,4.257020000000001,3.83879,3.42206,3.50074,3.616070000000001,3.58851,3.598605000000001,4.447864127672769,4.447864127672769,4.77696566346189,5.338232082790797,5.506,4.847122742081988,4.249884947362048,3.555600000000084,3.053740000000118,1.90584,1.17694,0.5150000000000001,0.1098135378618963,-0.95,-1.059819999999945,-3.096989999999948,-3.67712,-4.67677]}]],[[{"lng":[23.88710663286781,24.19406772118765,24.53741516360202,24.79492574541268,25.06960369934399,25.79063332841395,25.96230704962102,26.47732821324252,26.75200616717382,27.11252098170888,27.83355061077879,27.97088958774435,28.96659717074579,29.00093191498717,29.51595307860861,29.61895731133285,29.99663949798855,30.83784073190338,31.35286189552488,31.85071568702551,32.40007159488834,32.31423473428475,32.07389152459479,32.67474954881965,32.74341903730255,33.20693808456178,33.08676647971674,33.20693808456178,33.72195924818311,33.84213085302815,33.82496348090751,33.96339279497118,33.97498000000007,33.9616200000001,34.25745000000006,34.73115000000013,34.83163000000014,35.26049000000006,35.86363,36.27022000000005,36.42951000000005,36.32321999999999,36.75389000000008,36.85253000000012,37.16747000000009,37.90400000000011,38.41008995947323,37.86276000000009,37.48179000000011,37.11470000000013,36.96940999999993,37.1887200000001,36.86622999999997,32.89999999999998,29.01999999999998,25,25.00000000000011,23.85000000000014,23.83766000000014,23.88689000000011,23.0245900000001,22.56795000000011,22.30350999999996,22.51202000000001,22.18329,22.29658000000001,22.03758999999997,21.93680999999998,22.28801000000004,22.49761999999998,22.50869,22.87621999999993,22.86416548024422,22.97754357269261,23.55430423350219,23.55724979014283,23.39477908701719,23.45901289235598,23.80581342946675,23.88710663286781],"lat":[8.619774859601774,8.728696472403897,8.91753756573172,9.810240916008695,10.27375996326799,10.41109894023373,10.13642098630243,9.55273033419809,9.466893473594498,9.638567194801624,9.604232450560289,9.398223985111656,9.398223985111656,9.604232450560287,9.793073543888058,10.08491886994022,10.29092733538869,9.70723668328452,9.810240916008695,10.53127054507883,11.08062645294149,11.68148447716652,11.97332980321852,12.02483191958072,12.24800775714999,12.1793382686671,11.4411412674765,10.72011163840659,10.32526207963019,9.981914637215995,9.484060845715362,9.464285229420625,8.684559999999919,9.583580000000097,10.63009,10.91017000000011,11.31896000000012,12.08286000000004,12.57828000000006,13.56333000000012,14.42211000000004,14.82249000000001,16.29186000000004,16.95655,17.26314000000013,17.42754000000002,17.99830739997031,18.36785999999995,18.61409000000009,19.80796000000009,20.83744000000013,21.01885000000004,22,22,22,22,20.00304000000005,20.00000000000006,19.5804700000001,15.61084,15.68072000000006,14.94429000000014,14.32682000000005,14.09317999999996,13.78648000000004,13.37231999999995,12.95545999999996,12.58818000000014,12.64604999999995,12.26024000000007,11.67936000000003,11.38461000000012,11.14239512780755,10.71446259199854,10.08925527591531,9.681218166538684,9.265067857292223,8.954285793488893,8.666318874542526,8.619774859601774]}],[{"lng":[23.88710663286781,23.88697958086067,24.56736901215208,23.88710663286781],"lat":[8.619774859601774,8.619729712933065,8.229187933785468,8.619774859601774]}]],[[{"lng":[23.83766000000014,19.84926000000007,15.86085000000008,14.85130000000004,15.09688764818185,15.47106000000008,15.48714806485015,15.90324669766431,15.68574059414777,15.30044111497972,15.24773115404185,13.97217000000001,13.54039350755079,13.95669884609413,13.95447675950561,14.59578128424761,14.49578738776285,14.89336000000004,14.9601518083376,14.92356489427496,15.46787275560524,14.90935387539472,14.62720055508106,14.17146609869903,13.95421837734401,14.54446658698177,14.97999555833769,15.12086551276531,15.43609174974574,15.27946048346911,16.10623172370674,16.29056155769189,16.45618452318735,16.70598839688626,17.96492964038089,18.38955488452322,18.91102176278051,18.81200971850927,19.09400800952602,20.05968549976427,21.00086836109617,21.72382164885946,22.23112918466876,22.86416548024422,22.87621999999993,22.50869,22.49761999999998,22.28801000000004,21.93680999999998,22.03758999999997,22.29658000000001,22.18329,22.51202000000001,22.30350999999996,22.56795000000011,23.0245900000001,23.88689000000011,23.83766000000014],"lat":[19.5804700000001,21.49509000000006,23.40971999999999,22.86295000000012,21.30851878507491,21.04845000000006,20.73041453702564,20.38761892341751,19.95718008064239,17.927949937405,16.62730581305078,15.68437000000006,14.36713369390122,13.99669118901693,13.35344879806377,13.33042694747786,12.85939626713733,12.21904999999998,11.55557404219722,10.89132518151747,9.982336737503546,9.99212942142273,9.920919297724538,10.02137828209993,9.549494940626687,8.965861314322268,8.796104234243472,8.382150173369439,7.692812404811889,7.421924546737969,7.497087917506462,7.754307359239419,7.734773667832966,7.508327541529978,7.890914008002994,8.281303615751824,8.630894680206353,8.982914536978599,9.07484691002584,9.012706000194854,9.475985215691509,10.56705556888598,10.97188873946061,11.14239512780755,11.38461000000012,11.67936000000003,12.26024000000007,12.64604999999995,12.58818000000014,12.95545999999996,13.37231999999995,13.78648000000004,14.09317999999996,14.32682000000005,14.94429000000014,15.68072000000006,15.61084,19.5804700000001]}]],[[{"lng":[16.34497684089524,17.06291751472622,17.0644161312627,17.56691775886887,18.22176150887148,18.24790978361119,17.92519046394844,18.25008019376745,18.24449913907992,18.37741092293461,18.42464318204938,18.85531456876987,19.19327843595872,19.61640506356457,20.07126102059763,20.689052768647,21.54279910654102,22.57415734222224,22.98818891774474,23.59404340993464,24.67785322439212,25.17286176931597,25.7806282895007,25.90966434093349,26.41945234549283,27.46460818859598,28.2197558936771,28.92555260591954,30.05571618014278,30.62281334811382,30.90176272962535,31.32556115085099,31.52100141777888,32.20338870619304,32.46213260267845,32.58026492689768,32.83012047702888,32.07166548028107,31.86806033705108,31.28277306491333,30.68596194837448,30.67660851412964,30.94966678235991,31.04407962415715,31.33315758639791,31.83777794772806,31.75240848158188,31.93058882012426,31.67039798353466,31.19140913262128,30.65986535006709,30.32288333509178,29.83903689954297,29.43218834810904,28.01723595552525,27.11940962088625,26.78640669119742,26.4857532081233,25.94165205252216,25.76584882986521,25.66466637543772,25.02517052582579,24.2112667172288,23.73356977712271,23.31209679535019,22.8242712745149,22.57953169118059,22.10596886565786,21.6058960303694,20.88960900237174,20.66647016773544,20.75860924651184,20.16572553882719,19.89576785653443,19.89473432788861,19.00212731291109,18.46489912280475,17.83615197110953,17.3874971859515,17.2189286638154,16.8240173682409,16.34497684089524],"lat":[-28.5767050106977,-29.87595387137998,-29.87864104585917,-30.72572112398755,-31.66163298922567,-32.42913136162457,-32.61129078545343,-33.28143075941444,-33.86775156019803,-34.13652068454807,-33.99787281670897,-34.44430551527847,-34.46259897230979,-34.81916635512371,-34.79513681410799,-34.41717538832523,-34.25883879978294,-33.86408253350531,-33.91643075941698,-33.79447437920815,-33.98717579522454,-33.79685149509358,-33.94464609144834,-33.6670402971764,-33.61495045342619,-33.2269637997788,-32.77195281344885,-32.1720411109725,-31.14026946383296,-30.42377573010613,-29.90995696382804,-29.40197763439891,-29.25738697684625,-28.75240488049007,-28.30101124442056,-27.47015756603182,-26.7421916643362,-26.73382008230491,-27.17792734142128,-27.285879408479,-26.74384531016953,-26.39807830170461,-26.02264902110415,-25.73145232513944,-25.66019052500895,-25.84333180105135,-25.48428394948742,-24.36941659922254,-23.65896900807386,-22.2515096981724,-22.15156747811992,-22.27161183033393,-22.10221648528118,-22.09131275806759,-22.82775359465908,-23.57432301197978,-24.24069060638348,-24.6163265927131,-24.69637338633322,-25.17484547292367,-25.48681609466971,-25.7196700985769,-25.67021575287358,-25.39012948985162,-25.26868987396572,-25.50045867279477,-25.97944752370815,-26.28025603607914,-26.72653370535176,-26.82854298269591,-26.47745330170492,-25.86813648855145,-24.91796192800077,-24.76779021576059,-28.46110483166078,-28.97244312918886,-29.04546192801728,-28.85637786226132,-28.78351409272978,-28.35594329194682,-28.08216155366447,-28.5767050106977]},{"lng":[28.97826256685724,29.32516645683259,29.01841515474802,28.84839969250774,28.29106937023991,28.10720462414543,27.74939700695648,26.99926191580764,27.53251102062748,28.07433841320778,28.5417000668555,28.97826256685724],"lat":[-28.95559661226171,-29.25738697684625,-29.74376555757737,-30.07005055106825,-30.2262167294543,-30.54573211031495,-30.64510588961222,-29.87595387137998,-29.24271087007536,-28.85146860119359,-28.64750172293757,-28.95559661226171]}]],[[{"lng":[28.97826256685724,28.5417000668555,28.07433841320778,27.53251102062748,26.99926191580764,27.74939700695648,28.10720462414543,28.29106937023991,28.84839969250774,29.01841515474802,29.32516645683259,28.97826256685724],"lat":[-28.95559661226171,-28.64750172293757,-28.85146860119359,-29.24271087007536,-29.87595387137998,-30.64510588961222,-30.54573211031495,-30.2262167294543,-30.07005055106825,-29.74376555757737,-29.25738697684625,-28.95559661226171]}]],[[{"lng":[31.19140913262128,32.24498823418801,32.50869306817344,32.65974327976258,32.77270796075263,32.61199425632489,32.65488569512715,32.84986087416438,32.84763878757585,32.32823896661023,31.8520406430406,31.63649824395119,31.17306399915767,30.33895470553454,30.27425581230511,29.51683434420315,28.94746341321126,28.8258687680285,28.46790612154269,27.59824344250276,27.04442711763073,26.70677330903564,26.38193525564892,25.26422570160801,25.64916344575016,25.85039147309473,26.16479088715849,27.29650475435051,27.72474734875325,27.72722781750326,28.02137007010861,28.79465620292422,29.43218834810904,29.83903689954297,30.32288333509178,30.65986535006709,31.19140913262128],"lat":[-22.2515096981724,-21.11648853931369,-20.39529225024831,-20.30429005298232,-19.7155921363133,-19.41938282641627,-18.6720899390435,-17.97905730557718,-16.71339812588462,-16.39207406989376,-16.31941700609138,-16.07199024827788,-15.86094369879787,-15.88083912523025,-15.50778696051521,-15.64467782965639,-16.04305144619444,-16.38974863044062,-16.46840016038885,-17.29083058031401,-17.93802621833743,-17.96122893643648,-17.8460421688579,-17.73653980883141,-18.53602589281899,-18.71441293709054,-19.29308562589494,-20.391519870691,-20.49905852629039,-20.85180185311471,-21.48597503020058,-21.63945403410745,-22.09131275806759,-22.10221648528118,-22.27161183033393,-22.15156747811992,-22.2515096981724]}]],[[{"lng":[29.43218834810904,28.79465620292422,28.02137007010861,27.72722781750326,27.72474734875325,27.29650475435051,26.16479088715849,25.85039147309473,25.64916344575016,25.26422570160801,25.08444339366457,24.52070519379254,24.21736453623921,23.57900556813771,23.1968583513393,21.65504031747898,20.91064131031453,20.88113406747587,19.89545779794068,19.89576785653443,20.16572553882719,20.75860924651184,20.66647016773544,20.88960900237174,21.6058960303694,22.10596886565786,22.57953169118059,22.8242712745149,23.31209679535019,23.73356977712271,24.2112667172288,25.02517052582579,25.66466637543772,25.76584882986521,25.94165205252216,26.4857532081233,26.78640669119742,27.11940962088625,28.01723595552525,29.43218834810904],"lat":[-22.09131275806759,-21.63945403410745,-21.48597503020058,-20.85180185311471,-20.49905852629039,-20.391519870691,-19.29308562589494,-18.71441293709054,-18.53602589281899,-17.73653980883141,-17.66181568773737,-17.88712493252994,-17.88934701911849,-18.28126108162006,-17.86903818122779,-18.21914601000523,-18.25221892667203,-21.81432708098315,-21.84915699634787,-24.76779021576059,-24.91796192800077,-25.86813648855145,-26.47745330170492,-26.82854298269591,-26.72653370535176,-26.28025603607914,-25.97944752370815,-25.50045867279477,-25.26868987396572,-25.39012948985162,-25.67021575287358,-25.7196700985769,-25.48681609466971,-25.17484547292367,-24.69637338633322,-24.6163265927131,-24.24069060638348,-23.57432301197978,-22.82775359465908,-22.09131275806759]}]],[[{"lng":[19.89576785653443,19.89545779794068,20.88113406747587,20.91064131031453,21.65504031747898,23.1968583513393,23.57900556813771,24.21736453623921,24.52070519379254,25.08444339366457,25.07695031098226,24.68234907400151,24.03386152517077,23.21504845550606,21.37717614104557,18.9561869646036,18.26330936043416,14.20970665859502,14.05850141770901,13.46236209478997,12.81408125168841,12.21546146001936,11.73419884608512,11.79491865402807,12.60856408046362,12.82684533046449,13.35249799973744,13.86864220546866,14.25771406419418,14.38571658698115,14.40814415859583,14.74321414557633,14.98971072760855,15.21047244635946,15.60181806810581,16.34497684089524,16.8240173682409,17.2189286638154,17.3874971859515,17.83615197110953,18.46489912280475,19.00212731291109,19.89473432788861,19.89576785653443],"lat":[-24.76779021576059,-21.84915699634787,-21.81432708098315,-18.25221892667203,-18.21914601000523,-17.86903818122779,-18.28126108162006,-17.88934701911849,-17.88712493252994,-17.66181568773737,-17.57882333747662,-17.35341073981947,-17.29584319424632,-17.52311614346599,-17.9306364885197,-17.78909474047226,-17.30995086026201,-17.35310068122572,-17.42338062914266,-16.97121184658877,-16.94134286872407,-17.11166838955808,-17.30188933682447,-18.06912932706192,-19.0453488094877,-19.67316578540166,-20.8728341610575,-21.69903696053998,-22.11120818449996,-22.65665292734069,-23.85301401132984,-25.39292001719538,-26.11737192149516,-27.09095590587405,-27.8212472470228,-28.5767050106977,-28.08216155366447,-28.35594329194682,-28.78351409272978,-28.85637786226132,-29.04546192801728,-28.97244312918886,-28.46110483166078,-24.76779021576059]}]],[[{"lng":[-16.71372880702347,-15.62459632003994,-15.39877031092446,-15.08173539881382,-14.68703080896849,-14.37671383305579,-14.04699235681748,-13.84496334477241,-14.27770178878456,-14.71219723149463,-15.14116329594947,-15.51181250656293,-15.69100053553499,-15.93129594569221,-16.84152462408127,-16.67745195155457,-16.14771684413058,-15.81657426600425,-15.54847693527401,-13.70047604008433,-13.21781816247824,-12.49905066573056,-12.27859900557344,-12.20356482588564,-11.65830095055793,-11.51394283695059,-11.46789913577852,-11.55339779300543,-11.92771603031162,-12.12488745772126,-12.1707502913803,-12.83065833174752,-13.43573767745306,-14.09952145024218,-14.57734758142898,-15.13573727055882,-15.62366614425869,-16.12069007004193,-16.46309811040788,-16.70070634608592,-17.18517289882223,-17.62504269049066,-17.12610673671261,-16.71372880702347],"lat":[13.59495860437985,13.62358734786956,13.86036876063092,13.87649180750599,13.63035696049978,13.62568024337738,13.79406789800045,13.505041612192,13.28058502853225,13.29820669194378,13.50951162358524,13.27856964767287,13.27035309493846,13.13028412521133,13.15139394780256,12.38485158940105,12.54776154220119,12.51556712488335,12.62817007084735,12.5861829696102,12.57587352136797,12.33208995203105,12.35444000899729,12.46564769128941,12.38658274988284,12.44298757572942,12.75451894780097,13.14121369064107,13.4220751001474,13.99472748458979,14.61683421473551,15.30369151454295,16.03938304286619,16.30430227301049,16.59826365810281,16.58728241624078,16.36933706304981,16.45566254319338,16.13503611903846,15.62152741135411,14.91947724045286,14.72954051356407,14.37351573328922,13.59495860437985]}]],[[{"lng":[-11.51394283695059,-11.45616858564827,-11.29757361494451,-11.03655595543826,-10.87082963707821,-10.59322384280628,-10.16521379234884,-9.890992804392011,-9.567911749703214,-9.327616339546012,-9.127473517279583,-8.905264858424529,-8.786099005559462,-8.376304897484914,-8.581305304386774,-8.620321010767128,-8.407310756860028,-8.282357143578281,-8.33537716310974,-8.029943610048621,-7.899589809592373,-7.622759161804812,-6.850506557635057,-6.666460944027548,-6.493965013037268,-6.20522294760643,-6.050452032892267,-5.816926235365288,-5.404341599946974,-5.470564947929006,-5.197842576508649,-5.22094194174312,-4.427166103523803,-4.28040503581488,-4.006390753587226,-3.522802700199861,-3.10370683431276,-2.967694464520576,-2.191824510090385,-2.001035122068771,-1.066363491205664,-0.515854458000348,-0.2662572900305805,0.3748922054146817,1.015783318698482,1.385528191746857,2.749992709981484,3.638258904646477,3.723421665063483,4.270209995143802,4.267419467800039,3.158133172222705,3.1466610042539,2.683588494486429,2.06099083823392,1.823227573259032,-1.550054897457614,-4.923337368174231,-6.453786586930335,-5.971128709324248,-5.488522508150438,-5.315277268891933,-5.537744309908447,-9.550238409859389,-9.700255092802706,-10.08684648277821,-10.65079138837942,-11.3490950179395,-11.66607825361785,-11.83420752607947,-12.1707502913803,-12.12488745772126,-11.92771603031162,-11.55339779300543,-11.46789913577852,-11.51394283695059],"lat":[12.44298757572942,12.07683421472534,12.07797109623577,12.21124461511651,12.17788747807211,11.92397532800598,11.84408356368274,12.06047862390497,12.19424306889247,12.33428620040345,12.30806041101533,12.08835805912644,11.81256093998471,11.39364594161063,11.13624563236481,10.81089081465518,10.90925690352276,10.79259735762384,10.49481191654194,10.20653493900171,10.29738210697083,10.1472362329468,10.13899384199624,10.43081065514845,10.41130280195827,10.52406077721913,10.09636078535544,10.22255463301219,10.37073680260915,10.95126984297605,11.37514577885014,11.71385895430723,12.5426455754043,13.22844350834974,13.47248545984811,13.33766164799861,13.54126679122859,13.79815033615151,14.24641754806736,14.55900828700089,14.97381500900777,15.11615774175573,14.92430898687215,14.92890818934613,14.96818227788799,15.32356110275917,15.4095248478767,15.56811981858046,16.18428375901262,16.85222748460122,19.155265204337,19.05736420336004,19.69357859952144,19.85623017016012,20.14223338467949,20.61080943448605,22.79266592049738,24.974574082941,24.95659068450342,20.64083344164763,16.32510203700797,16.20185374599184,15.50168976486926,15.48649689377544,15.26410736740736,15.33048574468627,15.13274587652143,15.41125600835848,15.3882083195563,14.79909699142894,14.61683421473551,13.99472748458979,13.4220751001474,13.14121369064107,12.75451894780097,12.44298757572942]}]],[[{"lng":[-17.06342322434257,-16.53632361496547,-16.27783810064152,-16.37765112961327,-16.25688330734717,-16.14634741867485,-16.27055172368836,-16.54970781092906,-16.46309811040788,-16.12069007004193,-15.62366614425869,-15.13573727055882,-14.57734758142898,-14.09952145024218,-13.43573767745306,-12.83065833174752,-12.1707502913803,-11.83420752607947,-11.66607825361785,-11.3490950179395,-10.65079138837942,-10.08684648277821,-9.700255092802706,-9.550238409859389,-5.537744309908447,-5.315277268891933,-5.488522508150438,-5.971128709324248,-6.453786586930335,-4.923337368174231,-8.684399786809051,-8.6872936670174,-11.96941891117116,-11.93722449385332,-12.87422156416958,-13.11875444177471,-12.92910193526353,-16.84519365077399,-17.06342322434257],"lat":[20.99975210213083,20.56786631925149,20.0925206568147,19.59381724698198,19.09671580655031,18.10848155361666,17.16696279547487,16.67389211676196,16.13503611903846,16.45566254319338,16.36933706304981,16.58728241624078,16.59826365810281,16.30430227301049,16.03938304286619,15.30369151454295,14.61683421473551,14.79909699142894,15.3882083195563,15.41125600835848,15.13274587652143,15.33048574468627,15.26410736740736,15.48649689377544,15.50168976486926,16.20185374599184,16.32510203700797,20.64083344164763,24.95659068450342,24.974574082941,27.395744126896,25.88105621998891,25.93335276946827,23.37459422453617,23.28483226164518,22.77122020109625,21.32707062426756,21.33332347257488,20.99975210213083]}]],[[{"lng":[2.691701694356255,2.74906253420022,2.723792758809509,2.912308383810256,3.220351596702101,3.705438266625919,3.600070021182803,3.797112257511714,3.572216424177469,3.611180454125559,2.848643019226586,2.49016360841793,2.154473504249921,1.935985548519881,1.447178175471066,1.243469679376489,0.8995630224740694,0.7723356461714844,1.077795037448738,1.425060662450136,1.46304284018467,1.664477573258381,1.618950636409238,1.865240512712319,2.691701694356255],"lat":[6.25881724692863,7.870734361192888,8.506845404489709,9.137607937044322,9.444152533399702,10.06321035404021,10.33218618411941,10.73474559167311,11.32793935795152,11.66016714115597,12.23563589115821,12.23305206954367,11.94015005131334,11.64115021407255,11.54771922448886,11.11051076908346,10.99733938236426,10.47080821374236,10.17560659427502,9.825395412632998,9.334624335157088,9.128590399609379,6.832038072126238,6.142157701029731,6.25881724692863]}]],[[{"lng":[14.85130000000004,14.14387088385524,13.58142459479046,11.99950564947161,8.572893100629784,5.677565952180686,4.267419467800039,4.270209995143802,3.723421665063483,3.638258904646477,2.749992709981484,1.385528191746857,1.015783318698482,0.3748922054146817,0.2956463964951013,0.429927605805517,0.993045688490071,1.024103224297477,2.177107781593776,2.154473504249921,2.49016360841793,2.848643019226586,3.611180454125559,3.680633579125811,3.967282749048849,4.107945997747322,4.368343540066007,5.443058302440136,6.445426059605637,6.820441928747755,7.330746697630017,7.804671258178788,9.014933302454439,9.524928012742949,10.11481448735469,10.70103193527371,10.98959313319153,11.52780317551139,12.30207116054052,13.08398725754881,13.31870161301856,13.99535281744829,14.1813362972668,14.21353071458464,14.49578738776285,14.59578128424761,13.95447675950561,13.95669884609413,13.54039350755079,13.97217000000001,15.24773115404185,15.30044111497972,15.68574059414777,15.90324669766431,15.48714806485015,15.47106000000008,15.09688764818185,14.85130000000004],"lat":[22.86295000000012,22.49128896737113,23.04050608976928,23.47166840259645,21.56566071215914,19.60120697679972,19.155265204337,16.85222748460122,16.18428375901262,15.56811981858046,15.4095248478767,15.32356110275917,14.96818227788799,14.92890818934613,14.44423493088065,13.98873301844393,13.33574962000382,12.85182566980658,12.62501780847754,11.94015005131334,12.23305206954367,12.23563589115821,11.66016714115597,12.55290334721423,12.95610871017158,13.53121572514783,13.74748159428941,13.86592397710223,13.49276845952268,13.11509125411752,13.0980380314612,13.34352692306375,12.82665924728042,12.85110219975448,13.27725189864941,13.24691783289408,13.38732269943119,13.32898000737359,13.03718903243752,13.5961471623225,13.55635630945783,12.46156525313831,12.48365692794312,12.80203542729335,12.85939626713733,13.33042694747786,13.35344879806377,13.99669118901693,14.36713369390122,15.68437000000006,16.62730581305078,17.927949937405,19.95718008064239,20.38761892341751,20.73041453702564,21.04845000000006,21.30851878507491,22.86295000000012]}]],[[{"lng":[2.691701694356255,3.574180128604553,4.325607130560684,5.033574252959369,5.362804803090881,5.898172641634687,6.6980721370806,7.08259646976444,7.46210818851594,8.500287713259695,8.757532993208629,9.233162876023044,9.522705926154403,10.11827680831825,10.49737511561142,11.05878787603035,11.74577436691851,11.8393087093668,12.06394616053956,12.2188721045506,12.75367150233922,12.95546797043898,13.1675997249971,13.30867638515392,13.57294965989456,14.41537885911668,14.46819217291898,14.57717776862253,14.1813362972668,13.99535281744829,13.31870161301856,13.08398725754881,12.30207116054052,11.52780317551139,10.98959313319153,10.70103193527371,10.11481448735469,9.524928012742949,9.014933302454439,7.804671258178788,7.330746697630017,6.820441928747755,6.445426059605637,5.443058302440136,4.368343540066007,4.107945997747322,3.967282749048849,3.680633579125811,3.611180454125559,3.572216424177469,3.797112257511714,3.600070021182803,3.705438266625919,3.220351596702101,2.912308383810256,2.723792758809509,2.74906253420022,2.691701694356255],"lat":[6.25881724692863,6.258300482605719,6.270651149923467,5.611802476418234,4.887970689305959,4.262453314628985,4.240594183769517,4.464689032403228,4.412108262546241,4.771982937026849,5.479665839047911,6.444490668153335,6.453482367372116,7.038769639509881,7.055357774275564,6.644426784690596,6.981382961449754,7.397042344589435,7.799808457872303,8.305824082874322,8.717762762888995,9.417771714714704,9.640626328973411,10.16036204674893,10.79856598555356,11.57236888269207,11.90475169519341,12.0853608260535,12.48365692794312,12.46156525313831,13.55635630945783,13.5961471623225,13.03718903243752,13.32898000737359,13.38732269943119,13.24691783289408,13.27725189864941,12.85110219975448,12.82665924728042,13.34352692306375,13.0980380314612,13.11509125411752,13.49276845952268,13.86592397710223,13.74748159428941,13.53121572514783,12.95610871017158,12.55290334721423,11.66016714115597,11.32793935795152,10.73474559167311,10.33218618411941,10.06321035404021,9.444152533399702,9.137607937044322,8.506845404489709,7.870734361192888,6.25881724692863]}]],[[{"lng":[14.49578738776285,14.21353071458464,14.1813362972668,14.57717776862253,14.46819217291898,14.41537885911668,13.57294965989456,13.30867638515392,13.1675997249971,12.95546797043898,12.75367150233922,12.2188721045506,12.06394616053956,11.8393087093668,11.74577436691851,11.05878787603035,10.49737511561142,10.11827680831825,9.522705926154403,9.233162876023044,8.757532993208629,8.500287713259695,8.488815545290889,8.744923943729416,8.948115675501072,9.404366896206,9.795195753629457,9.649158155972628,11.27644900884371,11.75166548019979,12.35938032395222,12.95133385585561,13.07582238124675,14.33781253424658,15.14634199388524,15.94091881680506,16.01285241055535,15.90738081224766,15.86273237474748,15.40539594896438,15.03621951667125,14.95095340338966,14.47837243008047,14.5589359880235,14.45940717942935,14.53656009284111,14.77654544440458,15.27946048346911,15.43609174974574,15.12086551276531,14.97999555833769,14.54446658698177,13.95421837734401,14.17146609869903,14.62720055508106,14.90935387539472,15.46787275560524,14.92356489427496,14.9601518083376,14.89336000000004,14.49578738776285],"lat":[12.85939626713733,12.80203542729335,12.48365692794312,12.0853608260535,11.90475169519341,11.57236888269207,10.79856598555356,10.16036204674893,9.640626328973411,9.417771714714704,8.717762762888995,8.305824082874322,7.799808457872303,7.397042344589435,6.981382961449754,6.644426784690596,7.055357774275564,7.038769639509881,6.453482367372116,6.444490668153335,5.479665839047911,4.771982937026849,4.495617377129918,4.352215277519961,3.904128933117136,3.734526882335203,3.073404445809117,2.283866075037736,2.261050930180871,2.326757513839993,2.19281220133945,2.32161570882694,2.267097072759015,2.22787466064949,1.964014797367185,1.727672634280296,2.267639675298085,2.557389431158613,3.013537298998983,3.33530060466434,3.851367295747124,4.210389309094921,4.732605495620447,5.03059764243153,5.451760565610301,6.226958726420691,6.408498033062044,7.421924546737969,7.692812404811889,8.382150173369439,8.796104234243472,8.965861314322268,9.549494940626687,10.02137828209993,9.920919297724538,9.99212942142273,9.982336737503546,10.89132518151747,11.55557404219722,12.21904999999998,12.85939626713733]}]],[[{"lng":[0.8995630224740694,0.02380252442370078,-0.04978471515994442,0.3675799902453889,0.3659005061958851,0.4611918473421213,0.7120292496868784,0.4909574723422451,0.5703841487748491,0.8369311865363329,1.060121697604927,1.865240512712319,1.618950636409238,1.664477573258381,1.46304284018467,1.425060662450136,1.077795037448738,0.7723356461714844,0.8995630224740694],"lat":[10.99733938236426,11.0186817489008,10.70691783288393,10.19121287682718,9.465003973829482,8.677222601756016,8.312464504423829,7.411744289576475,6.914358628767189,6.27997874595215,5.928837388528875,6.142157701029731,6.832038072126238,9.128590399609379,9.334624335157088,9.825395412632998,10.17560659427502,10.47080821374236,10.99733938236426]}]],[[{"lng":[0.02380252442370078,-0.4387015445885823,-0.7615758935481834,-1.203357713211431,-2.94040930827046,-2.963896246747112,-2.827496303712707,-2.562189500326241,-2.983584967450327,-3.244370083011262,-2.81070146321784,-2.856125047202397,-1.964706590167594,-1.063624640294193,-0.5076379052659376,1.060121697604927,0.8369311865363329,0.5703841487748491,0.4909574723422451,0.7120292496868784,0.4611918473421213,0.3659005061958851,0.3675799902453889,-0.04978471515994442,0.02380252442370078],"lat":[11.0186817489008,11.09834096927872,10.93692963301505,11.00981924076274,10.96269033451256,10.39533478438008,9.64246084231978,8.219627793811481,7.379704901555511,6.250471503113501,5.38905121502411,4.994475816259509,4.71046214438337,5.000547797053812,5.343472601742675,5.928837388528875,6.27997874595215,6.914358628767189,7.411744289576475,8.312464504423829,8.677222601756016,9.465003973829482,10.19121287682718,10.70691783288393,11.0186817489008]}]],[[{"lng":[-8.029943610048621,-8.229337124046822,-8.309616461612251,-8.079113735374349,-7.832100389019189,-8.203498907900881,-8.299048631208562,-8.221792364932199,-8.280703497744938,-8.439298468448698,-8.485445522485351,-8.385451626000572,-8.60288021486862,-8.311347622094019,-7.99369259279588,-7.570152553731688,-7.539715135111762,-7.635368211284034,-7.712159389669751,-7.518941209330436,-6.528769090185846,-5.834496222344527,-4.649917364917911,-4.008819545904942,-3.311084357100072,-2.856125047202397,-2.81070146321784,-3.244370083011262,-2.983584967450327,-2.562189500326241,-2.827496303712707,-3.511898972986273,-3.980449184576686,-4.330246954760383,-4.779883592131967,-4.9546532861431,-5.404341599946974,-5.816926235365288,-6.050452032892267,-6.20522294760643,-6.493965013037268,-6.666460944027548,-6.850506557635057,-7.622759161804812,-7.899589809592373,-8.029943610048621],"lat":[10.20653493900171,10.1290202905639,9.789531968622443,9.376223863152035,8.575704250518626,8.455453192575447,8.316443589710302,8.123328762235573,7.687179673692158,7.686042792181738,7.39520783124307,6.911800645368743,6.46756419517166,6.193033148621083,6.126189683451541,5.707352199725904,5.313345241716519,5.188159084489457,4.364565944837723,4.338288479017308,4.705087795425015,4.993700669775138,5.168263658057087,5.179813340674315,4.984295559098015,4.994475816259509,5.38905121502411,6.250471503113501,7.379704901555511,8.219627793811481,9.64246084231978,9.90032623945622,9.862344061721702,9.610834865757141,9.821984768101744,10.15271393476974,10.37073680260915,10.22255463301219,10.09636078535544,10.52406077721913,10.41130280195827,10.43081065514845,10.13899384199624,10.1472362329468,10.29738210697083,10.20653493900171]}]],[[{"lng":[-13.70047604008433,-13.71874365889951,-13.82827185714213,-13.74316077315742,-13.90079972986378,-14.12140641931778,-14.38219153487873,-14.6856872217289,-15.13031124516817,-14.83955379887794,-14.69323198084351,-14.57969885909826,-14.33007585291237,-14.07404496912228,-13.68515397790979,-13.24655025883252,-12.71195756677308,-12.59671912276221,-12.42592851403756,-12.150338100625,-11.91727739098866,-11.11748124840733,-10.8391519840833,-10.62239518883504,-10.65477047366589,-10.49431515139963,-10.50547726077467,-10.23009355309128,-10.01656653486125,-9.755342169625836,-9.337279832384583,-9.40334815106975,-9.208786383490846,-8.926064622422002,-8.722123582382125,-8.439298468448698,-8.280703497744938,-8.221792364932199,-8.299048631208562,-8.203498907900881,-7.832100389019189,-8.079113735374349,-8.309616461612251,-8.229337124046822,-8.029943610048621,-8.33537716310974,-8.282357143578281,-8.407310756860028,-8.620321010767128,-8.581305304386774,-8.376304897484914,-8.786099005559462,-8.905264858424529,-9.127473517279583,-9.327616339546012,-9.567911749703214,-9.890992804392011,-10.16521379234884,-10.59322384280628,-10.87082963707821,-11.03655595543826,-11.29757361494451,-11.45616858564827,-11.51394283695059,-11.65830095055793,-12.20356482588564,-12.27859900557344,-12.49905066573056,-13.21781816247824,-13.70047604008433],"lat":[12.5861829696102,12.24718557377551,12.14264415124904,11.81126902917741,11.67871898034875,11.6771170109477,11.50927195886369,11.52782379805649,11.04041168867953,10.87657156009814,10.65630076745404,10.21446727135852,10.01571971276397,9.886166897008252,9.494743760613462,8.90304861087151,9.342711696810769,9.620188300001972,9.835834051955954,9.858571682164383,10.04698395430056,10.04587291100628,9.688246161330367,9.267910061068278,8.977178452994195,8.715540676300435,8.348896389189605,8.406205552601294,8.428503933135232,8.541055202666925,7.928534450711353,7.526905218938908,7.313920803247954,7.309037380396375,7.711674302598511,7.686042792181738,7.687179673692158,8.123328762235573,8.316443589710302,8.455453192575447,8.575704250518626,9.376223863152035,9.789531968622443,10.1290202905639,10.20653493900171,10.49481191654194,10.79259735762384,10.90925690352276,10.81089081465518,11.13624563236481,11.39364594161063,11.81256093998471,12.08835805912644,12.30806041101533,12.33428620040345,12.19424306889247,12.06047862390497,11.84408356368274,11.92397532800598,12.17788747807211,12.21124461511651,12.07797109623577,12.07683421472534,12.44298757572942,12.38658274988284,12.46564769128941,12.35444000899729,12.33208995203105,12.57587352136797,12.5861829696102]}]],[[{"lng":[-16.67745195155457,-16.61383826340328,-16.30894731288123,-16.3147867497302,-16.08521419927357,-15.66418046717553,-15.13031124516817,-14.6856872217289,-14.38219153487873,-14.12140641931778,-13.90079972986378,-13.74316077315742,-13.82827185714213,-13.71874365889951,-13.70047604008433,-15.54847693527401,-15.81657426600425,-16.14771684413058,-16.67745195155457],"lat":[12.38485158940105,12.1709111597127,11.95870189050612,11.80651479740655,11.52459402103824,11.4584740259208,11.04041168867953,11.52782379805649,11.50927195886369,11.6771170109477,11.67871898034875,11.81126902917741,12.14264415124904,12.24718557377551,12.5861829696102,12.62817007084735,12.51556712488335,12.54776154220119,12.38485158940105]}]],[[{"lng":[-8.439298468448698,-8.722123582382125,-8.926064622422002,-9.208786383490846,-9.40334815106975,-9.337279832384583,-9.755342169625836,-10.01656653486125,-10.23009355309128,-10.69559485517648,-11.14670427086838,-11.19980180504828,-11.43877946618205,-10.76538387698665,-9.913420376006684,-9.004793667018674,-7.974107224957251,-7.712159389669751,-7.635368211284034,-7.539715135111762,-7.570152553731688,-7.99369259279588,-8.311347622094019,-8.60288021486862,-8.385451626000572,-8.485445522485351,-8.439298468448698],"lat":[7.686042792181738,7.711674302598511,7.309037380396375,7.313920803247954,7.526905218938908,7.928534450711353,8.541055202666925,8.428503933135232,8.406205552601294,7.939464016141089,7.396706447779538,7.105845648624737,6.785916856305747,6.140710760925558,5.593560695819207,4.8324185245922,4.355755113131963,4.364565944837723,5.188159084489457,5.313345241716519,5.707352199725904,6.126189683451541,6.193033148621083,6.46756419517166,6.911800645368743,7.39520783124307,7.686042792181738]}]],[[{"lng":[-13.24655025883252,-13.12402543786848,-12.94904903812819,-12.42809892419382,-11.70819454593574,-11.43877946618205,-11.19980180504828,-11.14670427086838,-10.69559485517648,-10.23009355309128,-10.50547726077467,-10.49431515139963,-10.65477047366589,-10.62239518883504,-10.8391519840833,-11.11748124840733,-11.91727739098866,-12.150338100625,-12.42592851403756,-12.59671912276221,-12.71195756677308,-13.24655025883252],"lat":[8.90304861087151,8.163946438016978,7.798645738145738,7.26294200279203,6.860098374860727,6.785916856305747,7.105845648624737,7.396706447779538,7.939464016141089,8.406205552601294,8.348896389189605,8.715540676300435,8.977178452994195,9.267910061068278,9.688246161330367,10.04587291100628,10.04698395430056,9.858571682164383,9.835834051955954,9.620188300001972,9.342711696810769,8.90304861087151]}]],[[{"lng":[-5.404341599946974,-4.9546532861431,-4.779883592131967,-4.330246954760383,-3.980449184576686,-3.511898972986273,-2.827496303712707,-2.963896246747112,-2.94040930827046,-1.203357713211431,-0.7615758935481834,-0.4387015445885823,0.02380252442370078,0.8995630224740694,1.243469679376489,1.447178175471066,1.935985548519881,2.154473504249921,2.177107781593776,1.024103224297477,0.993045688490071,0.429927605805517,0.2956463964951013,0.3748922054146817,-0.2662572900305805,-0.515854458000348,-1.066363491205664,-2.001035122068771,-2.191824510090385,-2.967694464520576,-3.10370683431276,-3.522802700199861,-4.006390753587226,-4.28040503581488,-4.427166103523803,-5.22094194174312,-5.197842576508649,-5.470564947929006,-5.404341599946974],"lat":[10.37073680260915,10.15271393476974,9.821984768101744,9.610834865757141,9.862344061721702,9.90032623945622,9.64246084231978,10.39533478438008,10.96269033451256,11.00981924076274,10.93692963301505,11.09834096927872,11.0186817489008,10.99733938236426,11.11051076908346,11.54771922448886,11.64115021407255,11.94015005131334,12.62501780847754,12.85182566980658,13.33574962000382,13.98873301844393,14.44423493088065,14.92890818934613,14.92430898687215,15.11615774175573,14.97381500900777,14.55900828700089,14.24641754806736,13.79815033615151,13.54126679122859,13.33766164799861,13.47248545984811,13.22844350834974,12.5426455754043,11.71385895430723,11.37514577885014,10.95126984297605,10.37073680260915]}]],[[{"lng":[27.37422610851749,27.21340905122517,26.46590945812324,26.21341840994512,25.79664798351118,25.12413089366473,25.11493248871679,24.56736901215208,23.80581342946675,23.45901289235598,23.39477908701719,23.55724979014283,23.55430423350219,22.97754357269261,22.86416548024422,22.23112918466876,21.72382164885946,21.00086836109617,20.05968549976427,19.09400800952602,18.81200971850927,18.91102176278051,18.38955488452322,17.96492964038089,16.70598839688626,16.45618452318735,16.29056155769189,16.10623172370674,15.27946048346911,14.77654544440458,14.53656009284111,14.45940717942935,14.5589359880235,14.47837243008047,14.95095340338966,15.03621951667125,15.40539594896438,15.86273237474748,15.90738081224766,16.01285241055535,16.53705813972413,17.1330424333463,17.80990034350526,18.45306521980993,18.54298221199778,18.93231245288476,19.46778364429315,20.29067915210894,20.92759118010628,21.65912275563003,22.40512373219554,22.70412356943629,22.84147952646811,23.29721398285014,24.41053104014626,24.80502892426242,25.12883344900328,25.27879845551431,25.65045535655747,26.40276085786254,27.04406538260471,27.37422610851749],"lat":[5.233944403500061,5.550953477394557,5.946717434101871,6.546603298362072,6.97931590415807,7.500085150579436,7.825104071479176,8.229187933785468,8.666318874542526,8.954285793488893,9.265067857292223,9.681218166538684,10.08925527591531,10.71446259199854,11.14239512780755,10.97188873946061,10.56705556888598,9.475985215691509,9.012706000194854,9.07484691002584,8.982914536978599,8.630894680206353,8.281303615751824,7.890914008002994,7.508327541529978,7.734773667832966,7.754307359239419,7.497087917506462,7.421924546737969,6.408498033062044,6.226958726420691,5.451760565610301,5.03059764243153,4.732605495620447,4.210389309094921,3.851367295747124,3.33530060466434,3.013537298998983,2.557389431158613,2.267639675298085,3.198254706226279,3.728196519379452,3.560196437998569,3.504385891123349,4.201785183118318,4.709506130385975,5.03152781821278,4.691677761245287,4.322785549329737,4.22434194581372,4.02916006104732,4.633050848810158,4.710126247573484,4.609693101414223,5.10878408448913,4.89724660890235,4.92724477784779,5.170408229997192,5.256087754737123,5.150874538590871,5.127852688004836,5.233944403500061]}]],[[{"lng":[18.45306521980993,17.80990034350526,17.1330424333463,16.53705813972413,16.01285241055535,15.94091881680506,15.14634199388524,14.33781253424658,13.07582238124675,13.00311364101208,13.28263146327882,14.02666873541722,14.27626590338696,13.84332075364566,14.31641849127774,14.4254557634136,14.29921023932457,13.99240726080771,13.10961876796563,12.57528445806764,12.49570275233816,11.82096357590319,11.4780387712143,11.85512169764812,11.09377282069193,11.91496300624209,12.31860761887393,12.62075971848449,12.99551720546518,13.25824018723705,13.60023481614468,14.1449560889333,14.20903486497522,14.58260379401318,15.17099165208844,15.75354007331475,16.0062895036543,15.97280317552915,16.40709191251005,16.86530683764212,17.52371626147286,17.63864464688999,17.66355268725468,17.82654015470325,17.77419192879157,17.89883548347959,18.09427575040743,18.39379235197114,18.45306521980993],"lat":[3.504385891123349,3.560196437998569,3.728196519379452,3.198254706226279,2.267639675298085,1.727672634280296,1.964014797367185,2.22787466064949,2.267097072759015,1.83089630778332,1.31418366129688,1.395677395021153,1.196929836426619,0.038757635901149,-0.5526274552470483,-1.333406670744971,-1.998275648612214,-2.4708049454891,-2.428740329603514,-1.948511244315135,-2.391688327650243,-2.514161472181982,-2.765618991714241,-3.426870619321051,-3.978826592630547,-5.037986748884791,-4.606230157086188,-4.438023369976136,-4.781103203961884,-4.882957452009165,-4.50013844159097,-4.510008640158716,-4.793092136253598,-4.97023894615014,-4.343507175314301,-3.855164890156097,-3.535132744972529,-2.712392266453612,-1.740927015798682,-1.225816338713287,-0.7438302547269871,-0.4248316381892465,-0.05808399821381728,0.2889232446261047,0.8556586775710853,1.741831976728278,2.365721543788056,2.90044342692822,3.504385891123349]}]],[[{"lng":[11.27644900884371,11.28507897303646,9.830284051155644,9.492888624721983,9.291350538783691,9.048419630579588,8.830086704146424,8.79799563969317,9.405245395554971,10.06613528813574,11.09377282069193,11.85512169764812,11.4780387712143,11.82096357590319,12.49570275233816,12.57528445806764,13.10961876796563,13.99240726080771,14.29921023932457,14.4254557634136,14.31641849127774,13.84332075364566,14.27626590338696,14.02666873541722,13.28263146327882,13.00311364101208,13.07582238124675,12.95133385585561,12.35938032395222,11.75166548019979,11.27644900884371],"lat":[2.261050930180871,1.057661851400013,1.067893784993799,1.010119533691494,0.2686660831676875,-0.4593514949602167,-0.779073581550037,-1.111301364754496,-2.144313246269043,-2.969482517105681,-3.978826592630547,-3.426870619321051,-2.765618991714241,-2.514161472181982,-2.391688327650243,-1.948511244315135,-2.428740329603514,-2.4708049454891,-1.998275648612214,-1.333406670744971,-0.5526274552470483,0.038757635901149,1.196929836426619,1.395677395021153,1.31418366129688,1.83089630778332,2.267097072759015,2.32161570882694,2.19281220133945,2.326757513839993,2.261050930180871]}]],[[{"lng":[9.649158155972628,9.305613234096256,9.492888624721983,9.830284051155644,11.28507897303646,11.27644900884371,9.649158155972628],"lat":[2.283866075037736,1.160911363119183,1.010119533691494,1.067893784993799,1.057661851400013,2.261050930180871,2.283866075037736]}]],[[{"lng":[30.7400097314221,30.34608605319082,29.00291222506047,28.7348665707625,28.44987104667283,28.67368167492893,28.49606977714177,28.37225304537043,28.64241743339236,29.34154788586909,29.61600141777123,29.69961388521949,28.93428592297684,28.52356163912102,28.15510867687999,27.38879886242378,27.16441979341246,26.55308759939962,25.75230960460473,25.41811811697321,24.78316979340295,24.31451622894796,24.25715538910399,23.91221520355572,24.01789350759259,23.90415368011818,24.07990522634284,23.93092207204538,24.01613650889467,21.93388634612592,21.88784264495387,22.56247846852426,23.21504845550606,24.03386152517077,24.68234907400151,25.07695031098226,25.08444339366457,25.26422570160801,26.38193525564892,26.70677330903564,27.04442711763073,27.59824344250276,28.46790612154269,28.8258687680285,28.94746341321126,29.51683434420315,30.27425581230511,30.17948123548183,33.21402469252521,32.68816531752313,32.99176435723788,33.30642215346307,33.11428917820191,33.31531049981729,33.48568769708359,33.2313879737753,32.75937544122132,32.19186486179194,31.5563480974665,31.15775133695005,30.7400097314221],"lat":[-8.340005930353721,-8.238256524288218,-8.407031752153474,-8.526559340044578,-9.164918308146085,-9.605924981324932,-10.78988372156405,-11.79364674240139,-11.97156869878231,-12.36074391037241,-12.17889454513731,-13.25722665777183,-13.24895842860513,-12.69860442469668,-12.2724805640179,-12.13274749110067,-11.60874846766107,-11.92443979253213,-11.78496510177636,-11.33093596765996,-11.23869353601896,-11.26282642989927,-10.95199268966366,-10.92682626713751,-11.23729827234709,-11.72228158940632,-12.19129688888736,-12.56584767013886,-12.91104623784857,-12.89843718836936,-16.08031015387688,-16.89845142992181,-17.52311614346599,-17.29584319424632,-17.35341073981947,-17.57882333747662,-17.66181568773737,-17.73653980883141,-17.8460421688579,-17.96122893643648,-17.93802621833743,-17.29083058031401,-16.46840016038885,-16.38974863044062,-16.04305144619444,-15.64467782965639,-15.50778696051521,-14.79609913499153,-13.97186003993616,-13.71285776128928,-12.78387053797827,-12.43577809006022,-11.60719817469231,-10.7965499813297,-10.52555877039111,-9.676721693564801,-9.230599053589058,-8.930358981973258,-8.76204884199864,-8.594578747317364,-8.340005930353721]}]],[[{"lng":[32.75937544122132,33.2313879737753,33.48568769708359,33.31531049981729,33.11428917820191,33.30642215346307,32.99176435723788,32.68816531752313,33.21402469252521,33.78970014825668,34.06482547377863,34.45963341648854,34.51766604995231,34.3072912940921,34.38129194513405,35.03381025568354,35.33906294123165,35.77190473810836,35.68684533055594,35.26795617039802,34.90715132013617,34.55998904799936,34.28000613784198,34.55998904799935,34.27999999999997,33.94083772409652,33.73972000000009,32.75937544122132],"lat":[-9.230599053589058,-9.676721693564801,-10.52555877039111,-10.7965499813297,-11.60719817469231,-12.43577809006022,-12.78387053797827,-13.71285776128928,-13.97186003993616,-14.45183074306307,-14.35995004644812,-14.61300953538142,-15.01370859137261,-15.47864145270259,-16.18355966559604,-16.8012997372131,-16.10744028083011,-15.89685881924073,-14.61104583095434,-13.88783416102956,-13.56542489996057,-13.57999765386688,-12.28002532313251,-11.52002003341593,-10.16000000000003,-9.693673841980285,-9.417149999999992,-9.230599053589058]}]],[[{"lng":[34.55998904799935,34.28000613784198,34.55998904799936,34.90715132013617,35.26795617039802,35.68684533055594,35.77190473810836,35.33906294123165,35.03381025568354,34.38129194513405,34.3072912940921,34.51766604995231,34.45963341648854,34.06482547377863,33.78970014825668,33.21402469252521,30.17948123548183,30.27425581230511,30.33895470553454,31.17306399915767,31.63649824395119,31.8520406430406,32.32823896661023,32.84763878757585,32.84986087416438,32.65488569512715,32.61199425632489,32.77270796075263,32.65974327976258,32.50869306817344,32.24498823418801,31.19140913262128,31.67039798353466,31.93058882012426,31.75240848158188,31.83777794772806,31.98577924981197,32.07166548028107,32.83012047702888,32.9159550310657,32.66036339695009,32.57463219577787,33.01321007663901,34.21582400893547,35.04073489761066,35.45874555841962,35.60747033055563,35.37177412287237,35.5339347674043,35.56254553636909,35.3858482537054,35.37342776870574,35.17612715021537,34.70189253107284,34.78638349787005,35.19839969253314,35.89649661636406,36.28127933120936,37.41113284683888,38.53835086442152,39.45255862809705,40.08926395036521,40.4772506040126,40.775475294769,40.59962039567975,40.56081139502857,40.43725304541869,40.47838748552303,40.31658857601719,40.31658622911085,40.31659000000002,39.52099999999996,38.42755659358775,37.82763999999997,37.47128999999995,36.77515099462281,36.51408165868426,35.31239790216904,34.55998904799935],"lat":[-11.52002003341593,-12.28002532313251,-13.57999765386688,-13.56542489996057,-13.88783416102956,-14.61104583095434,-15.89685881924073,-16.10744028083011,-16.8012997372131,-16.18355966559604,-15.47864145270259,-15.01370859137261,-14.61300953538142,-14.35995004644812,-14.45183074306307,-13.97186003993616,-14.79609913499153,-15.50778696051521,-15.88083912523025,-15.86094369879787,-16.07199024827788,-16.31941700609138,-16.39207406989376,-16.71339812588462,-17.97905730557718,-18.6720899390435,-19.41938282641627,-19.7155921363133,-20.30429005298232,-20.39529225024831,-21.11648853931369,-22.2515096981724,-23.65896900807386,-24.36941659922254,-25.48428394948742,-25.84333180105135,-26.29177988048022,-26.73382008230491,-26.7421916643362,-26.21586720144347,-26.14858448659945,-25.72731821055609,-25.35757333750773,-24.81631438568266,-24.47835051849381,-24.12260995859655,-23.70656300221468,-23.5353589820317,-23.07078785572776,-22.09,-22.14,-21.84083709074888,-21.25436126066841,-20.49704314543101,-19.78401173266774,-19.55281137459389,-18.84226043058064,-18.65968759529345,-17.58636809659124,-17.10102304450596,-16.72089120856694,-16.10077402106446,-15.40629444749397,-14.69176441819424,-14.20197519293186,-12.63917652756103,-11.76171070724502,-10.76544076909,-10.3170960425257,-10.31709775281749,-10.31709999999987,-10.89688000000001,-11.28520232508166,-11.26878999999991,-11.56876,-11.59453744878081,-11.72093800216673,-11.43914641687915,-11.52002003341593]}]],[[{"lng":[32.07166548028107,31.98577924981197,31.83777794772806,31.33315758639791,31.04407962415715,30.94966678235991,30.67660851412964,30.68596194837448,31.28277306491333,31.86806033705108,32.07166548028107],"lat":[-26.73382008230491,-26.29177988048022,-25.84333180105135,-25.66019052500895,-25.73145232513944,-26.02264902110415,-26.39807830170461,-26.74384531016953,-27.285879408479,-27.17792734142128,-26.73382008230491]}]],[[{"lng":[12.32243167486351,12.22734703944647,12.72829837408389,12.93304039882429,13.23643273280987,12.92906131353783,12.87536950038657,13.12098758306985,13.38732791510216,13.68637942877524,13.7387276546869,13.6337211442698,13.31291385260187,12.73847863124539,12.50009524908299,12.17561893072229,12.12358076340439,11.77853722499154,11.64009606288161,11.73419884608512,12.21546146001936,12.81408125168841,13.46236209478997,14.05850141770901,14.20970665859502,18.26330936043416,18.9561869646036,21.37717614104557,23.21504845550606,22.56247846852426,21.88784264495387,21.93388634612592,24.01613650889467,23.93092207204538,24.07990522634284,23.90415368011818,24.01789350759259,23.91221520355572,23.45679080576744,22.83734541188474,22.40279829274237,22.15526818206431,22.2087532894864,21.87518191904235,21.8018013851879,21.94913089365204,21.74645592620331,21.7281107927397,20.5147481625265,20.6018229509383,20.09162153492065,20.03772301604022,19.41750247567316,19.16661339689611,19.01675174324967,18.46417565275269,18.13422163256905,17.47297000496224,17.08999596524717,16.86019087084521,16.57317996589614,16.32652835456705,13.3755973649719,13.02486941900696,12.7351713395787,12.32243167486351],"lat":[-6.100092461779659,-6.294447523629394,-6.927122084178805,-7.596538588087731,-8.562629489784307,-8.959091078327553,-9.166933689005468,-9.766897067914122,-10.37357838302071,-10.73107594161589,-11.29786305099316,-12.03864470789717,-12.48363046636249,-13.1379057756099,-13.54769988368445,-14.44914356858389,-14.8783163387679,-15.79381601325074,-16.67314218512925,-17.30188933682447,-17.11166838955808,-16.94134286872407,-16.97121184658877,-17.42338062914266,-17.35310068122572,-17.30995086026201,-17.78909474047226,-17.9306364885197,-17.52311614346599,-16.89845142992181,-16.08031015387688,-12.89843718836936,-12.91104623784857,-12.56584767013886,-12.19129688888736,-11.72228158940632,-11.23729827234709,-10.92682626713751,-10.86786345789248,-11.01762175867433,-10.99307545333569,-11.08480112065377,-9.894796237836509,-9.523707777548566,-8.908706556842979,-8.305900974158277,-7.920084730667149,-7.290872491081302,-7.29960580813863,-6.939317722199681,-6.943090101756995,-7.116361179231645,-7.155428562044299,-7.738183688999756,-7.988245944860133,-7.847014255406444,-7.987677504104922,-8.0685511206417,-7.545688978712528,-7.222297865429986,-6.622644545115088,-5.877470391466268,-5.864241224799549,-5.984388929878158,-5.965682061388498,-6.100092461779659]}],[{"lng":[12.99551720546518,12.62075971848449,12.31860761887393,11.91496300624209,12.18233686692025,12.43668826666087,12.46800418462974,12.63161176926579,12.99551720546518],"lat":[-4.781103203961884,-4.438023369976136,-4.606230157086188,-5.037986748884791,-5.789930515163839,-5.684303887559246,-5.248361504745005,-4.991271254092937,-4.781103203961884]}]],[[{"lng":[30.46967364576122,29.93835900240794,29.63217614107859,29.02492638521679,29.27638390474905,29.33999759290035,29.75351240409987,30.11632000000004,30.50554,30.75224000000009,30.74301000000003,30.52766000000003,30.46967364576122],"lat":[-2.41385475710134,-2.348486830254238,-2.917857761246097,-2.839257907730158,-3.293907159034063,-4.499983412294092,-4.452389418153303,-4.090120000000013,-3.568579999999941,-3.359309999999994,-3.034309999999948,-2.807619999999985,-2.41385475710134]}]],[[{"lng":[49.54351891459575,49.19465132019331,48.86350874206698,48.84506025573879,48.29382775248138,47.86904747904217,48.00521487813126,47.70512983581236,46.88218265156429,46.31224327981722,45.87299360533626,45.50273196796499,44.94493655780653,44.4465173683514,44.31246870298628,43.96308434426091,44.04297610858415,44.23242190936617,44.46439741392439,44.37432539243966,43.8963700701721,43.89368289569293,43.43329756040464,43.254187046081,43.34565433123763,43.69777754087445,43.76376834491118,44.03972049334977,44.83357384621755,45.40950768411045,46.28247765481709,47.0957613462266,47.54772342305131,47.93074913919867,48.54854088724801,49.04179243347394,49.43561852397031,49.49861209493412,49.77456424337272,49.86334435405016,49.67260664246086,49.86060550313867,50.20027469259318,50.37711144389596,50.47653689962553,50.21743126811407,50.05651085795716,49.80898074727909,49.54351891459575],"lat":[-12.46983285894055,-12.04055673589197,-12.48786793381042,-13.08917489995866,-13.78406788498749,-13.66386850347658,-14.09123259853038,-14.59430266689177,-15.21018238694631,-15.7800184058288,-15.79345427822469,-15.97437346767854,-16.1793738745804,-16.21621917080451,-16.85049570075495,-17.40994475674678,-18.33138722094317,-18.96199472420091,-19.43545419685905,-20.07236622485639,-20.83045948657817,-21.16330738697013,-21.33647511158019,-22.05741301848412,-22.77690398528388,-23.5741163062506,-24.46067717864999,-24.98834522878231,-25.34610116953894,-25.60143442149309,-25.17846282318411,-24.94162973399046,-23.78195891692852,-22.39150115325108,-20.49688811613413,-19.11878101977445,-17.95306406013437,-17.10603565843827,-16.8750420060936,-16.45103687913878,-15.71020354580248,-15.41425261806692,-16.00026336025677,-15.70606943121913,-15.22651213955054,-14.7587887508768,-13.55576140712198,-12.89528492599955,-12.46983285894055]}]],[[{"lng":[-16.71372880702347,-16.84152462408127,-15.93129594569221,-15.69100053553499,-15.51181250656293,-15.14116329594947,-14.71219723149463,-14.27770178878456,-13.84496334477241,-14.04699235681748,-14.37671383305579,-14.68703080896849,-15.08173539881382,-15.39877031092446,-15.62459632003994,-16.71372880702347],"lat":[13.59495860437985,13.15139394780256,13.13028412521133,13.27035309493846,13.27856964767287,13.50951162358524,13.29820669194378,13.28058502853225,13.505041612192,13.79406789800045,13.62568024337738,13.63035696049978,13.87649180750599,13.86036876063092,13.62358734786956,13.59495860437985]}]],[[{"lng":[9.482139926805274,9.970017124072854,10.0565751481617,9.950225050505082,10.63690148279949,10.94478966639446,11.43225345220369,11.48878746913101,11.10850060389512,10.85683637863369,10.33965864425661,10.14959272628713,10.80784712082101,10.93951867030069,10.59328657394514,10.6000045101431,11.10002566899925,11.02886722173335,10.18065026209453,10.21000247563632,9.509993523810607,8.420964389691676,8.217824334352315,8.37636762862377,8.140981479534302,7.524481642292245,7.612641635782182,8.430472853233368,8.43910281742612,9.055602654668149,9.482139926805274],"lat":[30.30755605724619,30.53932485607524,30.96183136649352,31.37606964774526,31.76142080334575,32.08181468355537,32.36890310315287,33.13699575452324,33.2933428004222,33.76874013929128,33.78574168551532,34.33077301689771,34.83350718844919,35.69898407647349,35.94744436293281,36.41000010837737,36.89999603936892,37.09210317641396,36.72403778741509,37.23000173598481,37.34999441176654,36.94642731378316,36.43317698826029,35.47987600355594,34.65514598239379,34.09737641045146,33.34411489514896,32.74833730725595,32.50628489840083,32.10269196220129,30.30755605724619]}]],[[{"lng":[-8.684399786809051,-4.923337368174231,-1.550054897457614,1.823227573259032,2.06099083823392,2.683588494486429,3.1466610042539,3.158133172222705,4.267419467800039,5.677565952180686,8.572893100629784,11.99950564947161,11.56066938644901,10.77136355962293,10.30384687667836,9.94826134607797,9.910692579801776,9.319410841518163,9.716285841519662,9.629056023811074,9.756128370816782,9.68388471847277,9.859997999723449,9.805634392952355,9.482139926805274,9.055602654668149,8.43910281742612,8.430472853233368,7.612641635782182,7.524481642292245,8.140981479534302,8.37636762862377,8.217824334352315,8.420964389691676,7.737078484741005,7.330384962603971,6.261819695672613,5.320120070017794,4.81575809084913,3.161698846050825,1.466918572606545,0.5038765804152093,-0.1274543928946059,-1.208602871089056,-2.169913702798624,-1.792985805661715,-1.733454555661467,-1.388049282222596,-1.124551153966308,-1.30789913573787,-2.616604783529568,-3.068980271812648,-3.647497931320146,-3.690441046554724,-4.859646165374471,-5.242129278982787,-6.060632290053774,-7.059227667661958,-8.674116176782974,-8.665589565454809,-8.665124477564191,-8.684399786809051],"lat":[27.395744126896,24.974574082941,22.79266592049738,20.61080943448605,20.14223338467949,19.85623017016012,19.69357859952144,19.05736420336004,19.155265204337,19.60120697679972,21.56566071215914,23.47166840259645,24.09790924732551,24.56253205006175,24.37931325937091,24.93695364023252,25.3654546167968,26.09432485605745,26.51220632578566,27.14095347748092,27.68825857188421,28.1441738957792,28.95998973237101,29.42463837332338,30.30755605724619,32.10269196220129,32.50628489840083,32.74833730725595,33.34411489514896,34.09737641045146,34.65514598239379,35.47987600355594,36.43317698826029,36.94642731378316,36.88570750584022,37.11838064223437,37.11065501560674,36.71651886651662,36.86503693292346,36.78390493422523,36.60564708103441,36.30127289483528,35.88866242120081,35.7148487411871,35.16839630791668,34.5279186060913,33.91971283623212,32.86401500094139,32.65152151135713,32.2628889023061,32.0943462183862,31.72449799247321,31.63729401298068,30.89695160575116,30.50118764904385,30.00044302013559,29.73169973400169,29.5792284205246,28.84128896739658,27.65642588959236,27.58947907155823,27.395744126896]}]],[[{"lng":[36.42951000000005,37.59377000000006,37.90607000000011,38.51295000000005,39.09940000000001,39.34061000000008,40.02625000000012,40.89660000000003,41.15519999999998,41.59856000000002,42.00975,42.35156000000012,42.77964236834475,43.08122602720016,42.58957645037526,42.27683068214486,41.73495161313236,41.17927493669765,39.81429365414021,39.26611006038802,38.99062299984001,38.41008995947323,37.90400000000011,37.16747000000009,36.85253000000012,36.75389000000008,36.32321999999999,36.42951000000005],"lat":[14.42211000000004,14.2131,14.95943000000017,14.50547000000006,14.74064000000004,14.53154999999999,14.51959,14.11864000000014,13.77332999999998,13.45209000000011,12.86581999999993,12.54223000000013,12.45541575769568,12.69963857670712,13.0004212508619,13.34399201095442,13.92103689214156,14.49107961675321,15.43564728440032,15.92272349696725,16.84062612555169,17.99830739997031,17.42754000000002,17.26314000000013,16.95655,16.29186000000004,14.82249000000001,14.42211000000004]}]],[[{"lng":[-2.169913702798624,-2.604305792644084,-3.640056525070065,-4.591006232105144,-5.193863491222033,-5.929994269219889,-6.244342006851411,-6.912544114601417,-7.654178432638219,-8.657476365585012,-9.300692918321888,-9.434793260119362,-9.814718390329176,-9.564811163765684,-10.39959225100864,-10.9009569971044,-11.68891923669077,-12.61883663578311,-13.12161336991477,-13.13994177901435,-13.77380489750647,-14.43993994796483,-14.80092566573973,-14.82464514816166,-15.08933183436074,-15.42600379074219,-15.98261064295804,-16.3264139469959,-16.26192175949564,-16.58913692876769,-16.97324784999325,-17.02042843267577,-17.00296179856109,-14.75095455571354,-14.63083268885107,-14.22116777185725,-13.89111039880905,-12.50096269372537,-12.03075883630163,-11.71821977380035,-11.39255489749701,-10.55126257978527,-10.18942420087758,-9.735343390328881,-9.41303748212448,-8.794883999049079,-8.817828334986674,-8.665589565454809,-8.674116176782974,-7.059227667661958,-6.060632290053774,-5.242129278982787,-4.859646165374471,-3.690441046554724,-3.647497931320146,-3.068980271812648,-2.616604783529568,-1.30789913573787,-1.124551153966308,-1.388049282222596,-1.733454555661467,-1.792985805661715,-2.169913702798624],"lat":[35.16839630791668,35.17909332940116,35.39985504815201,35.33071198174559,35.75518219659085,35.75998810479398,35.14586538343752,34.11047638603748,33.69706492770252,33.24024526624243,32.56467926689066,32.03809642183649,31.17773550060907,29.93357371674989,29.09858592377782,28.83214223888091,28.14864390717253,28.0381855331487,27.65414767171984,27.64014781342053,26.61889232025231,26.25441844329766,25.63626496022232,25.10353261972534,24.520260728447,24.35913361256104,23.72335846607405,23.0177684595609,22.67933950448128,22.1582343612501,21.88574453377499,21.42231028898157,21.42073415779658,21.50060008390366,21.86093984627491,22.31016307218816,23.6910090194593,24.7701162785782,26.03086619720307,26.10409170176062,26.88342397715439,26.99080760345689,26.8609447291074,26.8609447291074,27.08847606048857,27.12069631602251,27.65642588959236,27.65642588959236,28.84128896739658,29.5792284205246,29.73169973400169,30.00044302013559,30.50118764904385,30.89695160575116,31.63729401298068,31.72449799247321,32.0943462183862,32.2628889023061,32.65152151135713,32.86401500094139,33.91971283623212,34.5279186060913,35.16839630791668]}]],[[{"lng":[36.86622999999997,36.69069000000001,35.52598,35.49372,35.69241,34.79507,34.47387000000001,34.10455000000001,33.34876,32.73482,32.32046,32.42323000000001,33.13676,33.58811,33.92136000000001,34.15451000000001,34.42655,34.64174,34.9226,34.82324328878381,34.26544000000001,34.26543474464621,33.7734,32.99392,32.19247,31.96041,31.68796000000001,30.97693000000001,30.09503,29.68342,28.91353,28.45048000000001,27.45762,26.49533,25.16482,24.80286999999999,24.95762,24.70007,25,25,25,29.01999999999998,32.89999999999998,36.86622999999997],"lat":[22,22.20485,23.10244,23.75237,23.92671,25.03375,25.59856000000001,26.14227,27.69989,28.70523,29.76043,29.85108,28.41765000000001,27.97136,27.64870000000001,27.8233,28.34399,29.09942,29.50133,29.76108076171822,31.21936,31.21935730952032,30.96746,31.02407,31.26034,30.9336,31.42960000000001,31.55585999999999,31.47340000000001,31.18686,30.87005,31.02577000000001,31.32126,31.58568,31.56915000000001,31.08929000000001,30.6616,30.04419000000001,29.23865452953346,25.682499996361,22,22,22,22]}]],[[{"lng":[25,25,25,24.70007,24.95762,24.80286999999999,25.16482,24.92113999999992,23.92750000000001,23.60913000000011,23.23680000000001,22.89576000000005,21.54298,20.85452000000009,20.13396999999992,19.82033000000007,20.05334999999997,19.57404000000008,19.08641,18.02108999999996,16.61162000000001,15.71393999999992,15.24563000000001,13.91867999999999,13.08326000000005,12.66331000000002,11.48878746913101,11.43225345220369,10.94478966639446,10.63690148279949,9.950225050505082,10.0565751481617,9.970017124072854,9.482139926805274,9.805634392952355,9.859997999723449,9.68388471847277,9.756128370816782,9.629056023811074,9.716285841519662,9.319410841518163,9.910692579801776,9.94826134607797,10.30384687667836,10.77136355962293,11.56066938644901,11.99950564947161,13.58142459479046,14.14387088385524,14.85130000000004,15.86085000000008,19.84926000000007,23.83766000000014,23.85000000000014,25.00000000000011,25],"lat":[22,25.682499996361,29.23865452953346,30.04419000000001,30.6616,31.08929000000001,31.56915000000001,31.89936,32.01667000000009,32.18725999999998,32.19149000000004,32.63857999999999,32.84320000000002,32.70679999999999,32.23820000000001,31.75179000000014,30.98576000000003,30.52582000000001,30.26639,30.76356999999996,31.18217999999996,31.37625999999995,32.26508000000007,32.71196000000008,32.87882000000008,32.79278000000005,33.13699575452324,32.36890310315287,32.08181468355537,31.76142080334575,31.37606964774526,30.96183136649352,30.53932485607524,30.30755605724619,29.42463837332338,28.95998973237101,28.1441738957792,27.68825857188421,27.14095347748092,26.51220632578566,26.09432485605745,25.3654546167968,24.93695364023252,24.37931325937091,24.56253205006175,24.09790924732551,23.47166840259645,23.04050608976928,22.49128896737113,22.86295000000012,23.40971999999999,21.49509000000006,19.5804700000001,20.00000000000006,20.00304000000005,22]}]],[[{"lng":[47.78942,46.94834000000009,43.67875000000004,43.29699000000011,42.92812000000009,42.55875999999995,42.77685184100095,42.55493000000013,42.31414000000012,41.7555700000002,41.73959000000019,41.66176000000014,42.00000000000011,42.35156000000012,42.00975,41.59856000000002,41.15519999999998,40.89660000000003,40.02625000000012,39.34061000000008,39.09940000000001,38.51295000000005,37.90607000000011,37.59377000000006,36.42951000000005,36.27022000000005,35.86363,35.26049000000006,34.83163000000014,34.73115000000013,34.25745000000006,33.9616200000001,33.97498000000007,33.82550000000015,33.29480000000012,32.95418000000006,33.5682900000001,34.07510000000001,34.25032000000004,34.70702,35.29800711823298,35.81744766235351,35.81744766235352,36.15907863285565,36.85509323800812,38.120915,38.43697000000001,38.67114,38.89251,39.55938425876585,39.85494000000001,40.76847999999999,41.1718,41.85508309264397,42.12860999999999,42.76967,43.66086999999999,44.9636,47.78942],"lat":[8.003,7.99688000000009,9.18358000000012,9.540480000000173,10.02194000000014,10.57258000000013,10.92687856693442,11.1051100000002,11.03420000000006,11.0509100000001,11.35511000000014,11.63119999999998,12.10000000000014,12.54223000000013,12.86581999999993,13.45209000000011,13.77332999999998,14.11864000000014,14.51959,14.53154999999999,14.74064000000004,14.50547000000006,14.95943000000017,14.2131,14.42211000000004,13.56333000000012,12.57828000000006,12.08286000000004,11.31896000000012,10.91017000000011,10.63009,9.583580000000097,8.684559999999919,8.37916000000007,8.354580000000054,7.7849700000001,7.713340000000016,7.225950000000068,6.826070000000072,6.594220000000122,5.506,5.338232082790797,4.77696566346189,4.447864127672769,4.447864127672769,3.598605000000001,3.58851,3.616070000000001,3.50074,3.42206,3.83879,4.257020000000001,3.919089999999999,3.918911920483726,4.23413,4.252589999999999,4.957550000000083,5.00162,8.003]}]],[[{"lng":[42.35156000000012,42.00000000000011,41.66176000000014,41.73959000000019,41.7555700000002,42.31414000000012,42.55493000000013,42.77685184100095,43.14530480324214,42.71587365089652,43.28638146339893,43.31785241066467,43.08122602720016,42.77964236834475,42.35156000000012],"lat":[12.54223000000013,12.10000000000014,11.63119999999998,11.35511000000014,11.0509100000001,11.03420000000006,11.1051100000002,10.92687856693442,11.46203969974886,11.73564057051834,11.97492829024588,12.39014842371103,12.69963857670712,12.45541575769568,12.54223000000013]}]],[[{"lng":[33.90371119710452,33.89356896966694,34.18,34.67210000000001,35.03599000000001,34.59607,34.47913,34.005,33.3900000000001,32.68642000000006,31.88144999999998,31.24556000000007,30.83385242171542,30.83385989759381,30.77334679538004,31.17414920423581,30.85267011894806,30.46850752129029,30.08615359876271,29.87577884290244,29.81950320813664,29.58783776217217,29.57946618014088,29.82151858899601,30.41910485201924,30.76986000000011,31.86617000000007,33.90371119710452],"lat":[-0.95,0.1098135378618963,0.5150000000000001,1.17694,1.90584,3.053740000000118,3.555600000000084,4.249884947362048,3.789999999999964,3.792320000000074,3.558269999999994,3.781900000000007,3.509171604222462,3.509165961110341,2.339883327642127,2.204465236821263,1.849396470543809,1.583805446779707,1.062312730306289,0.5973798689763612,-0.2053101538133717,-0.5874056941793812,-1.341313164885626,-1.443322442229785,-1.134659112150416,-1.014549999999986,-1.027359999999931,-0.95]}]],[[{"lng":[30.41910485201924,29.82151858899601,29.57946618014088,29.29188683443662,29.25483483248334,29.11747887545155,29.02492638521679,29.63217614107859,29.93835900240794,30.46967364576122,30.46967,30.75830895358311,30.81613488131772,30.41910485201924],"lat":[-1.134659112150416,-1.443322442229785,-1.341313164885626,-1.620055840667987,-2.215109958508911,-2.292211195488384,-2.839257907730158,-2.917857761246097,-2.348486830254238,-2.41385475710134,-2.413829999999962,-2.287250257988369,-1.698914076345389,-1.134659112150416]}]],[[{"lng":[30.83385242171542,31.24556000000007,31.88144999999998,32.68642000000006,33.3900000000001,34.005,34.62019626785388,35.29800711823298,34.70702,34.25032000000004,34.07510000000001,33.5682900000001,32.95418000000006,33.29480000000012,33.82550000000015,33.97498000000007,33.96339279497118,33.82496348090751,33.84213085302815,33.72195924818311,33.20693808456178,33.08676647971674,33.20693808456178,32.74341903730255,32.67474954881965,32.07389152459479,32.31423473428475,32.40007159488834,31.85071568702551,31.35286189552488,30.83784073190338,29.99663949798855,29.61895731133285,29.51595307860861,29.00093191498717,28.96659717074579,27.97088958774435,27.83355061077879,27.11252098170888,26.75200616717382,26.47732821324252,25.96230704962102,25.79063332841395,25.06960369934399,24.79492574541268,24.53741516360202,24.19406772118765,23.88697958086067,24.56736901215208,25.11493248871679,25.12413089366473,25.79664798351118,26.21341840994512,26.46590945812324,27.21340905122517,27.37422610851749,27.97997724784281,28.42899376802691,28.6966776872988,29.1590784034465,29.71599531425602,29.95350019706947,30.83385242171542],"lat":[3.509171604222462,3.781900000000007,3.558269999999994,3.792320000000074,3.789999999999964,4.249884947362048,4.847122742081988,5.506,6.594220000000122,6.826070000000072,7.225950000000068,7.713340000000016,7.7849700000001,8.354580000000054,8.37916000000007,8.684559999999919,9.464285229420625,9.484060845715362,9.981914637215995,10.32526207963019,10.72011163840659,11.4411412674765,12.1793382686671,12.24800775714999,12.02483191958072,11.97332980321852,11.68148447716652,11.08062645294149,10.53127054507883,9.810240916008695,9.70723668328452,10.29092733538869,10.08491886994022,9.793073543888058,9.604232450560287,9.398223985111656,9.398223985111656,9.604232450560289,9.638567194801624,9.466893473594498,9.55273033419809,10.13642098630243,10.41109894023373,10.27375996326799,9.810240916008695,8.91753756573172,8.728696472403897,8.619729712933065,8.229187933785468,7.825104071479176,7.500085150579436,6.97931590415807,6.546603298362072,5.946717434101871,5.550953477394557,5.233944403500061,4.408413397637375,4.287154649264495,4.455077215996937,4.389267279473231,4.600804755060153,4.173699042167684,3.509171604222462]}]]],["X2","X48","X1","X3","X4","X5","X6","X7","X8","X9","X10","X11","X12","X13","X14","X15","X16","X17","X18","X19","X20","X21","X22","X23","X24","X25","X26","X27","X28","X29","X30","X31","X32","X33","X34","X35","X36","X37","X38","X39","X40","X41","X42","X43","X44","X45","X46","X47","X49","X50","X51"],"world_africa",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":["#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040","#404040"],"weight":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"opacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"fill":true,"fillColor":["#BFBFBF","#BFBFBF","#92BAEC","#C0D9FB","#C0D9FB","#5A99D6","#92BAEC","#E5F1FF","#92BAEC","#E5F1FF","#C0D9FB","#92BAEC","#92BAEC","#5A99D6","#C0D9FB","#92BAEC","#92BAEC","#C0D9FB","#E5F1FF","#C0D9FB","#C0D9FB","#92BAEC","#E5F1FF","#C0D9FB","#C0D9FB","#92BAEC","#E5F1FF","#C0D9FB","#E5F1FF","#92BAEC","#5A99D6","#C0D9FB","#92BAEC","#92BAEC","#C0D9FB","#C0D9FB","#92BAEC","#C0D9FB","#5A99D6","#92BAEC","#004C85","#004C85","#92BAEC","#004C85","#0174B7","#0174B7","#92BAEC","#92BAEC","#C0D9FB","#5A99D6","#C0D9FB"],"fillOpacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"dashArray":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Western Sahara<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>  NA<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Somaliland<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>  NA<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Tanzania<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>64.163<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Democratic Republic of the Congo<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>58.782<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Somalia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>55.467<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Kenya<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>66.242<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Sudan<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>64.002<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Chad<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>52.204<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>South Africa<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>60.993<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Lesotho<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>53.268<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Zimbabwe<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>59.360<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Botswana<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>64.780<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Namibia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>62.981<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Senegal<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>66.376<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Mali<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>57.007<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Mauritania<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>62.907<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Benin<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>60.373<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Niger<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>59.228<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Nigeria<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>52.549<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Cameroon<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>57.111<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Togo<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>59.601<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Ghana<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>62.154<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Côte d'Ivoire<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>52.520<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Guinea<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>58.846<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Guinea-Bissau<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>56.598<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Liberia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>61.527<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Sierra Leone<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>50.951<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Burkina Faso<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>59.457<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Central African Republic<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>50.621<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Republic of the Congo<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>63.536<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Gabon<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>65.211<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Equatorial Guinea<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>57.180<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Zambia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>60.775<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Malawi<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>61.932<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Mozambique<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>57.099<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>eSwatini<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>56.287<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Angola<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>60.858<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Burundi<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>56.688<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Madagascar<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>65.133<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>The Gambia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>60.707<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Tunisia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>75.335<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Algeria<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>75.641<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Eritrea<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>64.174<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Morocco<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>75.309<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Egypt<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>71.120<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Libya<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>71.659<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Ethiopia<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>64.535<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Djibouti<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>62.006<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Uganda<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>59.224<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>Rwanda<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>66.188<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Country<\/nobr><\/td><td align=\"right\"><nobr>South Sudan<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Life Expectancy<\/nobr><\/td><td align=\"right\"><nobr>55.817<\/nobr><\/td><\/tr><\/table><\/div>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolygons","args":[[[[{"lng":[33.90371119710452,33.89356896966694,34.18,34.67210000000001,35.03599000000001,34.59607,34.47913,34.005,33.3900000000001,32.68642000000006,31.88144999999998,31.24556000000007,30.83385242171542,30.83385989759381,30.77334679538004,31.17414920423581,30.85267011894806,30.46850752129029,30.08615359876271,29.87577884290244,29.81950320813664,29.58783776217217,29.57946618014088,29.82151858899601,30.41910485201924,30.76986000000011,31.86617000000007,33.90371119710452],"lat":[-0.95,0.1098135378618963,0.5150000000000001,1.17694,1.90584,3.053740000000118,3.555600000000084,4.249884947362048,3.789999999999964,3.792320000000074,3.558269999999994,3.781900000000007,3.509171604222462,3.509165961110341,2.339883327642127,2.204465236821263,1.849396470543809,1.583805446779707,1.062312730306289,0.5973798689763612,-0.2053101538133717,-0.5874056941793812,-1.341313164885626,-1.443322442229785,-1.134659112150416,-1.014549999999986,-1.027359999999931,-0.95]}]]],"X1_1","uganda_sf",{"interactive":false,"className":"","pane":"tmap402","stroke":true,"color":"#000000","weight":2.5,"opacity":1,"fill":true,"fillColor":"#00000000","fillOpacity":1,"dashArray":"","smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addControl","args":["<div>\n  <div style=\"font-size: 14px; text-align: left; margin-bottom: 5px; color: #000000;\">lifeExp<\/div>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23E5F1FF%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">50 to 55<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23C0D9FB%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">55 to 60<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%2392BAEC%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">60 to 65<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%235A99D6%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">65 to 70<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%230174B7%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">70 to 75<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23004C85%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">75 to 80<\/span>\n<\/div>\n<div>\n  <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%3Crect%20id%3D%22stadium%22%20x%3D%221%22%20y%3D%221%22%20height%3D%2214%22%20width%3D%2214%22%20rx%3D%2225%25%22%20stroke%3D%22%23404040%22%20fill%3D%22%23BFBFBF%22%20stroke-opacity%3D%221%22%20fill-opacity%3D%221%22%20stroke-width%3D%221%22%20stroke-dash%3D%22%22%20baseSize%3D%2220%22%3E%3C%2Frect%3E%0A%3C%2Fsvg%3E\" style=\"vertical-align: middle; margin: 5px; margin-right: 0px; margin-left: 0px\" height=\"16\" width=\"16\"/>\n  <span style=\"font-size: 14px; vertical-align: middle; margin: 0px;\">Missing<\/span>\n<\/div>","bottomright","legend01","info legend world_africa leaflegend-group-worldafrica"]}],"fitBounds":[-36.26254957046152,-19.00022094430047,38.79337762710435,52.50904825380982,[]],"limits":{"lat":[-34.81916635512371,37.34999441176654],"lng":[-17.62504269049066,51.13387]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\nfunction(el, x) {\n  var updateLeafLegend = function() {\n    var controlGroups = document.querySelectorAll(\n      'input.leaflet-control-layers-selector');\n    controlGroups.forEach(g => {\n      var groupName = g.nextSibling.innerText.substr(1);\n      var className = 'leaflegend-group-' +\n        groupName.replace(/[^a-zA-Z0-9]/g, '');\n      var checked = g.checked;\n      document.querySelectorAll('.legend.' + className).forEach(l => {\n        l.hidden = !checked;\n      })\n    })\n  }\n\n  updateLeafLegend();\n  this.on('baselayerchange', el => updateLeafLegend())\n  this.on('overlayadd', el => updateLeafLegend());\n  this.on('overlayremove', el => updateLeafLegend());\n}\n                        ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (\n\t\t\t\t\t\tfunction(el, x) {\n\t\t\t\t\t\t\tvar tldiv = el.getElementsByClassName(\"leaflet-top leaflet-left\")[0];\n\t\t\t\t\t\t\tvar titlediv = document.createElement('div');\n\t\t\t\t\t\t\ttitlediv.className = \"info legend leaflet-control\";\n\t\t\t\t\t\t\ttitlediv.innerHTML = \"<b>Interactive Map of Life Expectancy in Africa<\/b>\";\n\t\t\t\t\t\t\ttldiv.insertBefore(titlediv, tldiv.childNodes[0]);\n\t\t\t\t\t\t}).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- IMPORTANT ---</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Switch back to plot mode for the rest of the document</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
</section>
<section id="exercise-3-thematic-mapping-with-tmap" class="level3">
<h3 class="anchored" data-anchor-id="exercise-3-thematic-mapping-with-tmap"><strong>Exercise 3: Thematic Mapping with <code>tmap</code></strong></h3>
<p>Now, create your own high-quality map of the United States.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">Task 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<p>Using the <code>us_states</code> dataset, create a choropleth map showing the total population in 2015 (<code>total_pop_15</code>). Add state borders with <code>tm_borders()</code>.</p>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure us_states data is loaded</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(us_states)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(us_states) <span class="sc">+</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">"total_pop_15"</span>, <span class="at">title =</span> <span class="st">"Population (2015)"</span>) <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"gray70"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ex3_task1_solution-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">Task 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<p>Improve the map from Task 1. * Add a main title. * Change the color palette (try <code>"YlGnBu"</code> or <code>"Reds"</code>). * Add a compass and a scale bar. * Make the state borders white and thin (<code>lwd = 0.5</code>).</p>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure us_states data is loaded</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(us_states)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(us_states) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"total_pop_15"</span>, </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Total Population (2015)"</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"YlGnBu"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">"jenks"</span> <span class="co"># Jenks style is good for skewed data</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"white"</span>, <span class="at">lwd =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">main.title =</span> <span class="st">"Population of the United States, 2015"</span>,</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">frame =</span> <span class="cn">FALSE</span>,</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.outside =</span> <span class="cn">TRUE</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>(<span class="at">type =</span> <span class="st">"arrow"</span>, <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"right"</span>, <span class="st">"top"</span>)) <span class="sc">+</span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_scale_bar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"bottom"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ex3_task2_solution-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="creating-maps-with-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="creating-maps-with-ggplot2">1.5 Creating Maps with <code>ggplot2</code></h2>
<p>For those already familiar with the <code>ggplot2</code> package, its “grammar of graphics” can be extended to create highly customized, professional maps. The <code>sf</code> package integrates directly with <code>ggplot2</code> through a special geometric layer: <code>geom_sf()</code>.</p>
<p>The core idea is the same as any other ggplot: you initialize a plot with <code>ggplot()</code>, specify your data, and then add layers. For spatial data, <code>geom_sf()</code> is the primary layer.</p>
<section id="worked-example-mapping-us-population-with-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="worked-example-mapping-us-population-with-ggplot2">Worked Example: Mapping US Population with <code>ggplot2</code></h3>
<p>Let’s use <code>ggplot2</code> and <code>geom_sf</code> to create a map of population density for the <code>us_states</code> dataset.</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data if not already in the environment</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(us_states)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co"># We can add a new column for population density right in our pipe</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>us_states_plot <span class="ot">&lt;-</span> us_states <span class="sc">%&gt;%</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_density =</span> <span class="fu">as.numeric</span>(total_pop_15 <span class="sc">/</span> AREA))</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the map with ggplot2</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> us_states_plot) <span class="sc">+</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The main geometry layer for sf objects</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> pop_density)) <span class="sc">+</span> </span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Customize the color scale</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">trans =</span> <span class="st">"log10"</span>, <span class="co"># Use a log scale for better visualization of skewed data</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Population Density</span><span class="sc">\n</span><span class="st">(people / sq. mile, log scale)"</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add titles and a clean theme</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"US Population Density by State, 2015"</span>,</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Data from the spData package"</span>,</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Map created with ggplot2"</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="co"># A minimal theme, good for maps</span></span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ggplot_worked_example-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="exercise-4-thematic-mapping-with-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="exercise-4-thematic-mapping-with-ggplot2"><strong>Exercise 4: Thematic Mapping with <code>ggplot2</code></strong></h3>
<p>Let’s use <code>ggplot2</code> to visualize the economic data in the <code>world_africa</code> dataset we created earlier.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">Task 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" role="tab" aria-controls="tabset-11-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<p>Using the <code>world_africa</code> object, create a simple map of the African continent using <code>ggplot()</code> and <code>geom_sf()</code>.</p>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'world_africa' was created in section 1.2</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_africa) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Map of Africa"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ex4_task1_solution-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">Task 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-3" role="tab" aria-controls="tabset-12-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<p>Map the <code>gdpPercap</code> (GDP per capita) variable to the <code>fill</code> aesthetic of the polygons.</p>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-12-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_africa) <span class="sc">+</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> gdpPercap))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ex4_task2_solution-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">Task 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">Try it yourself!</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" role="tab" aria-controls="tabset-13-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<p>Improve your map. * Use <code>scale_fill_viridis_c()</code> for a better color scale and add a title to the legend. * Add a main title and a subtitle to the map using <code>labs()</code>. * Apply <code>theme_bw()</code> for a cleaner look. * Add a black border layer for Uganda (<code>uganda_sf</code>) on top of the other countries. (Hint: Use a second <code>geom_sf()</code> call, but set <code>fill = NA</code> so it doesn’t cover the colors).</p>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-13-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-3-tab">
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'world_africa' and 'uganda_sf' are loaded</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Layer 1: African countries colored by GDP</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> world_africa, <span class="fu">aes</span>(<span class="at">fill =</span> gdpPercap)) <span class="sc">+</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Layer 2: Uganda outline</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> uganda_sf, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Customize scales and labels</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"GDP per Capita (USD)"</span>) <span class="sc">+</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"GDP Per Capita in Africa"</span>,</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Highlighting Uganda"</span>,</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: spData package"</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="module1-essentials_files/figure-html/ex4_task3_solution-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="module-1-finish-line" class="level1">
<h1>Module 1 Finish Line</h1>
<p>Congratulations on completing the first module!</p>
<p>You have acquired the fundamental skills for working with spatial data in R. You have learned how to use <code>sf</code> and <code>dplyr</code> to manage and query vector data, how to use <code>terra</code> to perform essential operations on raster data, and how to turn that data into informative and visually appealing maps.</p>
<p>Specifically, you now have two powerful mapping tools at your disposal: * <strong><code>tmap</code></strong>, which provides a straightforward grammar for creating both static, publication-quality maps and incredibly useful interactive maps for data exploration. * <strong><code>ggplot2</code></strong>, which extends its famous grammar of graphics to spatial data with <code>geom_sf</code>, allowing for deep customization and integration into a tidyverse workflow.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/MaxMLang\.github\.io\/spatial-epi-101\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Created by Max M. Lang</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://quarto.org/">
<p>Built with Quarto</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>